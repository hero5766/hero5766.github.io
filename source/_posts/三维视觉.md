---
title: ä¸‰ç»´è§†è§‰
author: hero576
tags:
  - robotic
categories:
  - programme
date: 2020-10-09 10:57:07
---
> 
<!--more-->

# ç®€ä»‹
## ä»‹ç»
- ä¸‰ç»´è§†è§‰ç›¸è¾ƒäºäºŒç»´è§†è§‰å¢åŠ äº†æ·±åº¦ä¿¡æ¯ï¼Œå¯ä»¥æ›´å¥½çš„åˆ©ç”¨ç¯å¢ƒä¿¡æ¯ï¼Œä¸ºç‰©ä½“åˆ†ç±»ã€ç›®æ ‡æ£€æµ‹ã€åœºæ™¯åˆ†å‰²ç­‰ä»»åŠ¡æä¾›æ›´å¤šçš„ä¿¡æ¯ã€‚

## ä¸‰ç»´è¡¨è¾¾
- ä¸‰ç»´è¡¨è¾¾çš„æ–¹æ³•

ä¸‰ç»´è¡¨è¾¾|è¯´æ˜
-|-
point cloud|ç‚¹äº‘
mesh|ä¸‰è§’å½¢æˆ–ä¸‰å˜å½¢é¢ç‰‡ç»„åˆ
volumetric|æ …æ ¼åŒ–
projected view RGB(D)|å›¾ç‰‡æ‹¼æ¥ï¼Œå…·æœ‰RGBä¿¡æ¯
Voxel Grid|ä½“ç´ ç½‘æ ¼
Octree|å…«å‰æ ‘

- ä½“ç´ ç½‘æ ¼å†—ä½™ä¿¡æ¯è¿‡å¤šï¼Œå¾ˆå¤šç©ºé—´å®é™…ä¸Šæ˜¯ç©ºçš„ï¼Œä½†ä»ä¼šå æ®å­˜å‚¨ç©ºé—´ã€‚å…«å‰æ ‘å¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜
- ç‚¹äº‘å®¹æ˜“è¡¨è¾¾ï¼Œå¯ä»¥ä½¿ç”¨çŸ©é˜µè¡¨ç¤ºï¼Œä½†æ˜¯ä¹Ÿæœ‰å¾ˆå¤šçš„ç¼ºç‚¹ï¼š
  - ç‚¹äº‘çš„ç‚¹å¯†åº¦è¿‘å¯†è¿œç–ï¼Œä¸å‡åŒ€
  - ä¸äºŒç»´å›¾åƒç›¸æ¯”ï¼Œä¸å®¹æ˜“æ‰¾åˆ°æœ€è¿‘é‚»çš„ç‚¹
  - æ²¡æœ‰çº¹ç†ä¿¡æ¯
  - é¡ºåºæ— å…³æ€§ï¼Œç‚¹äº‘ä¸­çš„ç‚¹æ’åˆ—é¡ºåºæ˜¯æ²¡æœ‰å…³ç³»çš„
  - æ—‹è½¬ç‰©ä½“åçš„ç‚¹äº‘æ˜¯å˜åŒ–çš„ï¼Œä½†æ˜¯è¿˜æ˜¯ä»£è¡¨ä¸€ä¸ªç‰©ä½“


## å¤„ç†çš„æ–¹æ³•
- åŸºäºç»“æ„åŒ–ç½‘æ ¼
  - Voxel basedï¼šä½“ç´ åŒ–
  - multiview basedï¼šå¤šè§†è§’æŠ•å½±ä¸ºäºŒç»´å›¾å¤„ç†

- ç‚¹äº‘ç›´æ¥å¤„ç†
![æ·±åº¦å­¦ä¹ å¤„ç†æ–¹æ³•](/images/pasted-286.png)
![æ·±åº¦å­¦ä¹ å¤„ç†æ–¹æ³•](/images/pasted-287.png)

- åŸºäºå›¾çš„æ–¹æ³•


## æ•°æ®é›†

å½¢çŠ¶åˆ†ç±»çš„æ•°æ®é›†|samples|classes|type|representation
-|-|-|-|-
McGill Benchmark|456|19|Synthetic|Mesh
Sydney Urban Objects|588|14|Real-World|point cloud
ModelNet10|4899|10|Synthetic|Mesh
ModelNet40|12311|40|Synthetic|Mesh
ShapeNet|51190|55|Synthetic|Mesh
ScanNet|12283|17|Real-World|RGB-D
ScanObjectNN|2902|15|Real-World|point cloud

ç›®æ ‡æ£€æµ‹å’Œè·Ÿè¸ªæ•°æ®é›†|scenes|classes|type|representation
-|-|-|-|-
KITTI|22|8|Urban(driving)|RGB&LiDAR
SUN RGB-D|47|37|Indoor|RGBD
ScanNetV2|1.5K|18|Indoor|RGBD&Mesh
H3D|160|8|Urban(driving)|RGB&LiDAR
Argoverse|113|15|Urban(driving)|RGB&LiDAR
Lyft L5|366|9|Urban(driving)|RGB&LiDAR
A*3D|-|7|Urban(driving)|RGB&LiDAR
Waymo Open|1K|4|Urban(driving)|RGB&LiDAR
nuScenes|1K|23|Urban(driving)|RGB&LiDAR

3dç‚¹äº‘åˆ†å‰²æ•°æ®é›†|points|classes|RGB|sensors
-|-|-|-|-
Oakland|1.6M|5(44)|N/A|MLS
ISPRS|1.2M|9|N/A|ALS
Paris-rue-Madame|20M|17|N/A|MLS
IQmulus|300M|8(22)|N/A|MLS
ScanNet|-|20(20)|Yes|RGBD
S3DIS|273M|13(13)|Yes|Matterport
Semantic3D|4000M|8(9)|Yes|TLS
Paris-Lile-3D|143M|9(50)|N/A|MLS
SemanticKITTI|4549M|25(28)|N/A|MLS
Toronto-3D|78.3M|8(9)|Yes|MLS
DALES|505M|8(9)|N/A|ALS



# ä¼ ç»Ÿç®—æ³•
## å¥‡å¼‚å€¼åˆ†è§£SVD[^1]
[^1]: [é“¾æ¥](https://www.cnblogs.com/endlesscoding/p/10033527.html)
- å¥‡å¼‚å€¼åˆ†è§£åœ¨æ•°æ®é™ç»´ä¸­æœ‰è¾ƒå¤šçš„åº”ç”¨ï¼Œè¿™é‡ŒæŠŠå®ƒçš„åŸç†ç®€å•æ€»ç»“ä¸€ä¸‹ï¼Œå¹¶ä¸”ä¸¾ä¸€ä¸ªå›¾ç‰‡å‹ç¼©çš„ä¾‹å­ï¼Œæœ€ååšä¸€ä¸ªç®€å•çš„åˆ†æï¼Œå¸Œæœ›èƒ½å¤Ÿç»™å¤§å®¶å¸¦æ¥å¸®åŠ©ã€‚
![Singular Value Decomposition](/images/pasted-320.png)

- ä¸Šå›¾åˆå§‹æ˜¯Iä¸ºåœ†å½¢ï¼Œä¸¤ç§å˜åŒ–çš„é€”å¾„
  - ç¬¬ä¸€ç§ï¼šç»è¿‡Mè¿›è¡Œäº†æ—‹è½¬ç¼©æ”¾å˜åŒ–ï¼Œå˜æˆäº†æ¤­åœ†
  - ç¬¬äºŒç§ï¼šä¾æ¬¡ç»è¿‡ï¼š$V^*$æ—‹è½¬çŸ©é˜µ-->$\Sigma$ç¼©æ”¾çŸ©é˜µ-->$U$æ—‹è½¬çŸ©é˜µï¼Œå˜æ¢ä¸ºæ¤­åœ†

### ç‰¹å¾å€¼åˆ†è§£ï¼ˆEVDï¼‰
#### å®å¯¹ç§°çŸ©é˜µ
- åœ¨ç†è§’å¥‡å¼‚å€¼åˆ†è§£ä¹‹å‰ï¼Œéœ€è¦å…ˆå›é¡¾ä¸€ä¸‹ç‰¹å¾å€¼åˆ†è§£ï¼Œå¦‚æœçŸ©é˜µAæ˜¯ä¸€ä¸ªmÃ—mçš„å®å¯¹ç§°çŸ©é˜µï¼ˆå³$A=A^T$ï¼‰ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥è¢«åˆ†è§£æˆå¦‚ä¸‹çš„å½¢å¼
  - $A=Q\Sigma Q^T=Q\begin{bmatrix}\lambda_1&\cdots&\cdots&\cdots\\\cdots&\lambda_2&\cdots&\cdots\\\cdots&\cdots&\ddots&\cdots\\\cdots&\cdots&\cdots&\lambda_m\end{bmatrix}Q^T$ï¼ˆ1-1ï¼‰
  - å…¶ä¸­Qä¸ºæ ‡å‡†æ­£äº¤é˜µï¼Œå³æœ‰$QQ^T=I$ï¼ŒÎ£ä¸ºå¯¹è§’çŸ©é˜µï¼Œä¸”ä¸Šé¢çš„çŸ©é˜µçš„ç»´åº¦å‡ä¸ºmÃ—mã€‚Î»iç§°ä¸ºç‰¹å¾å€¼ï¼Œqiæ˜¯Qï¼ˆç‰¹å¾çŸ©é˜µï¼‰ä¸­çš„åˆ—å‘é‡ï¼Œç§°ä¸ºç‰¹å¾å‘é‡ã€‚
#### ä¸€èˆ¬çŸ©é˜µ
- ä¸Šé¢çš„ç‰¹å¾å€¼åˆ†è§£ï¼Œå¯¹çŸ©é˜µæœ‰ç€è¾ƒé«˜çš„è¦æ±‚ï¼Œå®ƒéœ€è¦è¢«åˆ†è§£çš„çŸ©é˜µAä¸ºå®å¯¹ç§°çŸ©é˜µï¼Œä½†æ˜¯ç°å®ä¸­ï¼Œæˆ‘ä»¬æ‰€é‡åˆ°çš„é—®é¢˜ä¸€èˆ¬ä¸æ˜¯å®å¯¹ç§°çŸ©é˜µã€‚é‚£ä¹ˆå½“æˆ‘ä»¬ç¢°åˆ°ä¸€èˆ¬æ€§çš„çŸ©é˜µï¼Œå³æœ‰ä¸€ä¸ªmÃ—nçš„çŸ©é˜µAï¼Œå®ƒæ˜¯å¦èƒ½è¢«åˆ†è§£æˆä¸Šé¢çš„å¼ï¼ˆ1-1ï¼‰çš„å½¢å¼å‘¢ï¼Ÿå½“ç„¶æ˜¯å¯ä»¥çš„ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ä¸‹é¢è¦è®¨è®ºçš„å†…å®¹ã€‚

### å¥‡å¼‚å€¼åˆ†è§£ï¼ˆSVDï¼‰
#### å¥‡å¼‚å€¼åˆ†è§£å®šä¹‰
- æœ‰ä¸€ä¸ªmÃ—nçš„å®æ•°çŸ©é˜µAï¼Œæˆ‘ä»¬æƒ³è¦æŠŠå®ƒåˆ†è§£æˆå¦‚ä¸‹çš„å½¢å¼:
  - $A=U\Sigma V^T$
  - å…¶ä¸­Uå’ŒVå‡ä¸ºå•ä½æ­£äº¤é˜µï¼Œå³æœ‰$UU^T=I$å’Œ$VV^T=I$ï¼ŒUç§°ä¸ºå·¦å¥‡å¼‚çŸ©é˜µï¼ŒVç§°ä¸ºå³å¥‡å¼‚çŸ©é˜µï¼ŒÎ£ä»…åœ¨ä¸»å¯¹è§’çº¿ä¸Šæœ‰å€¼ï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºå¥‡å¼‚å€¼ï¼Œå…¶å®ƒå…ƒç´ å‡ä¸º0ã€‚ä¸Šé¢çŸ©é˜µçš„ç»´åº¦åˆ†åˆ«ä¸º$U\in R^{mÃ—m}$, $Î£\in R^{mÃ—n}$, $V\in R^{nÃ—n}$ã€‚
- ä¸€èˆ¬åœ°Î£æœ‰å¦‚ä¸‹å½¢å¼
  - $\Sigma=\begin{bmatrix}\sigma_1&0&0&0&0&0\\0&\sigma_2&0&0&0&0\\0&0&\cdots&0&0&0\\0&0&0&0&\cdots&0\end{bmatrix}_{m\times n}$

#### å¥‡å¼‚å€¼æ±‚è§£
- æ­£å¸¸æ±‚ä¸Šé¢çš„U,V,Î£ä¸ä¾¿äºæ±‚ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¦‚ä¸‹æ€§è´¨:
  - $AA^T=U\Sigma  V^TV\Sigma^TU^T=U\Sigma \Sigma^TU^T$ï¼ˆ2-2ï¼‰
  - $A^TA=V\Sigma^TU^TU\Sigma V^T=V\Sigma^T\Sigma V^T$ï¼ˆ2-3ï¼‰
  - æ³¨ï¼šéœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œè¿™é‡Œ$\Sigma\Sigma^T$ä¸$\Sigma^T\Sigma$åœ¨çŸ©é˜µçš„è§’åº¦ä¸Šæ¥è®²ï¼Œå®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„ï¼Œå› ä¸ºå®ƒä»¬çš„ç»´æ•°ä¸åŒ$\Sigma\Sigma^T\in R_{m\times m}$ï¼Œè€Œ$\Sigma^T\Sigma\in R_{n\times n}$ï¼Œä½†æ˜¯å®ƒä»¬åœ¨ä¸»å¯¹è§’çº¿çš„å¥‡å¼‚å€¼æ˜¯ç›¸ç­‰çš„
  - $\Sigma\Sigma^T=\begin{bmatrix}\sigma_1&0&0&0\\0&\sigma_2&0&0\\0&0&\cdots&0\\0&0&0&\cdots\end{bmatrix}_{m\times m}$ï¼Œ$\Sigma^T\Sigma=\begin{bmatrix}\sigma_1&0&0&0\\0&\sigma_2&0&0\\0&0&\cdots&0\\0&0&0&\cdots\end{bmatrix}_{n\times n}$

- å¯ä»¥å‘ç°$AA^T$å’Œ$A^TA$ä¹Ÿæ˜¯å¯¹ç§°çŸ©é˜µï¼Œé‚£ä¹ˆå¯ä»¥åˆ©ç”¨å¼ï¼ˆ1-1ï¼‰ï¼Œåšç‰¹å¾å€¼åˆ†è§£ã€‚åˆ©ç”¨å¼ï¼ˆ2-2ï¼‰ç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ°çš„ç‰¹å¾çŸ©é˜µå³ä¸ºUï¼›åˆ©ç”¨å¼ï¼ˆ2-3ï¼‰ç‰¹å¾å€¼åˆ†è§£ï¼Œå¾—åˆ°çš„ç‰¹å¾çŸ©é˜µå³ä¸ºVï¼›å¯¹$\Sigma\Sigma^T$æˆ–$\Sigma^T\Sigma$ä¸­çš„ç‰¹å¾å€¼å¼€æ–¹ï¼Œå¯ä»¥å¾—åˆ°æ‰€æœ‰çš„å¥‡å¼‚å€¼ã€‚

### ä¸¾ä¾‹
- å‡è®¾å·²çŸ¥çŸ©é˜µAï¼š
  - $A=\begin{bmatrix}1&5&7&6&1\\2&1&10&4&4\\3&6&7&5&2\end{bmatrix}$
- å°±å¯ä»¥æ±‚å‡º$AA^T$çš„ç‰¹å¾å€¼åˆ†è§£Uã€$A^TA$çš„ç‰¹å¾å€¼åˆ†è§£Vï¼Œå¾—åˆ°$\Sigma^T\Sigma$çš„ç‰¹å¾å€¼çš„å¼€æ–¹ï¼Œæœ€ç»ˆæ±‚å¾—$\Sigma=Diag(18.54,1.83,5.01)$
```py
import numpy as np
A = np.array([[1,5,7,6,1],[2,1,10,4,4],[3,6,7,5,2]])
AAT,ATA = A.dot(A.T),A.T.dot(A)
_,U = np.linalg.eig(AAT)
_,V = np.linalg.eig(ATA)
SigmaSigmaT=np.linalg.inv(U).dot(AAT).dot(np.linalg.inv(U.T))
lambd,Q = np.linalg.eig(SigmaSigmaT)
Sigma1 = np.sqrt(lambd)
print(Sigma1)
# å¯ä»¥ç›´æ¥æ±‚å¾—
U,Sigma2,VT=np.linalg.svd(A)
print(Sigma2)
```

- SVDåšå›¾åƒå‹ç¼©
```py
import matplotlib.pyplot as plt
import matplotlib.image as mpimg
import numpy as np
img_eg = mpimg.imread("../img/beauty.jpg")
print(img_eg.shape) # å›¾ç‰‡çš„å¤§å°æ˜¯600Ã—400Ã—3
img_temp = img_eg.reshape(600, 400 * 3)
U,Sigma,VT = np.linalg.svd(img_temp)
# å–å‰60ä¸ªå¥‡å¼‚å€¼
sval_nums = 60
img_restruct1 = (U[:,0:sval_nums]).dot(np.diag(Sigma[0:sval_nums])).dot(VT[0:sval_nums,:])
img_restruct1 = img_restruct1.reshape(600,400,3)
# å–å‰120ä¸ªå¥‡å¼‚å€¼
sval_nums = 120
img_restruct2 = (U[:,0:sval_nums]).dot(np.diag(Sigma[0:sval_nums])).dot(VT[0:sval_nums,:])
img_restruct2 = img_restruct2.reshape(600,400,3)
fig, ax = plt.subplots(1,3,figsize = (24,32))
ax[0].imshow(img_eg)
ax[0].set(title = "src")
ax[1].imshow(img_restruct1.astype(np.uint8))
ax[1].set(title = "nums of sigma = 60")
ax[2].imshow(img_restruct2.astype(np.uint8))
ax[2].set(title = "nums of sigma = 120")
```

- å¯ä»¥çœ‹åˆ°ï¼Œå½“æˆ‘ä»¬å–åˆ°å‰é¢120ä¸ªå¥‡å¼‚å€¼æ¥é‡æ„å›¾ç‰‡æ—¶ï¼ŒåŸºæœ¬ä¸Šå·²ç»çœ‹ä¸å‡ºä¸åŸå›¾ç‰‡æœ‰å¤šå¤§çš„å·®åˆ«ã€‚

## è°±å®šç†spectral theorem
- è°±å®šç†æ˜¯çº¿æ€§ä»£æ•°ä¸­å¾ˆé‡è¦å¾ˆåŸºç¡€çš„å®šç†ï¼Œå¹¶ä¸ºä»¥åçš„ç‰¹å¾å€¼åˆ†è§£åšå‡†å¤‡
- è°±å®šç†ï¼šè®¾Aæ˜¯nxnæ»¡ç§©å¯¹ç§°çŸ©é˜µï¼Œå­˜åœ¨æ­£äº¤å‘é‡uï¼Œ$Au_i=\lambda_iu_i$ï¼Œæ»¡è¶³ä¸‹é¢çš„ç­‰å¼ï¼š
  - $A=U\Lambda U^T=\sum_{i=1}^{n}\lambda_iu_iu_i^T,\;\Lambda=diag(\lambda_1,\cdots,\lambda_n)$
  - å…¶ä¸­ï¼š$UU^T=U^TU=I$


## ç‘åˆ©å•†
- [Rayleigh Quotient](https://www.cnblogs.com/pinard/p/6244265.html)å®šä¹‰å‡½æ•°ä¸ºç‘ä¸½å•†
  - $R(A,x)=\frac{x^HAx}{x^Hx}$
  - å…¶ä¸­xä¸ºéé›¶å‘é‡ï¼Œè€ŒAä¸ºnÃ—nçš„HermitançŸ©é˜µã€‚æ‰€è°“çš„HermitançŸ©é˜µå°±æ˜¯æ»¡è¶³å…±è½­è½¬ç½®çŸ©é˜µå’Œè‡ªå·±ç›¸ç­‰çš„çŸ©é˜µï¼Œå³$A^H=A$ã€‚å¦‚æœæˆ‘ä»¬çš„çŸ©é˜µAæ˜¯å®çŸ©é˜µï¼Œåˆ™æ»¡è¶³$A^T=A$çš„çŸ©é˜µå³ä¸ºHermitançŸ©é˜µã€‚
- ç‘åˆ©å•†$R(A,x)$æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„æ€§è´¨ï¼Œå³å®ƒçš„æœ€å¤§å€¼ç­‰äºçŸ©é˜µAæœ€å¤§çš„ç‰¹å¾å€¼ï¼Œè€Œæœ€å°å€¼ç­‰äºçŸ©é˜µAçš„æœ€å°çš„ç‰¹å¾å€¼ï¼Œä¹Ÿå°±æ˜¯æ»¡è¶³
  - $\lambda_{min}\le\frac{x^HAx}{x^Hx}\le\lambda_{max},\;\forall x\ne0$
  - $\lambda_{max}(A)=\max_{x:||x||_2=1}x^TAx$
  - $\lambda_{min}(A)=\min_{x:||x||_2=1}x^TAx$
  - è§£é‡Šç‘ä¸½å•†å°±æ˜¯ï¼šç»è¿‡xå’ŒxTæ—‹è½¬å˜æ¢åçš„æœ€å¤§æœ€å°å€¼æ˜¯å¤šå°‘ï¼Œæ—‹è½¬ä¸ä¼šæ”¹å˜ç‰¹å¾å€¼çš„å¤§å°
- å½“å‘é‡xæ˜¯æ ‡å‡†æ­£äº¤åŸºæ—¶ï¼Œå³æ»¡è¶³$x^Hx=1$æ—¶ï¼Œç‘åˆ©å•†é€€åŒ–ä¸ºï¼š$R(A,x)=x^HAx$ï¼Œè¿™ä¸ªå½¢å¼åœ¨è°±èšç±»å’ŒPCAä¸­éƒ½æœ‰å‡ºç°ã€‚  

### ç»“åˆè°±å®šç†
- Uæ˜¯æ­£äº¤çš„$UU^T=I$ï¼Œ$\Lambda$æ˜¯å¯¹è§’
  - $x^TAx=x^TU\Lambda U^T=\hat{x}^T\Lambda\hat{x}=\sum_{i=1}^{n}\lambda_i\hat{x}_i^2$
- æ ¹æ®ç‘ä¸½å•†ï¼š
  - $\lambda_{min}\sum_{i=1}^{n}\hat{x}_i^2\le\sum_{i=1}^{n}\lambda_i\hat{x}_i^2\le\lambda_{max}\sum_{i=1}^{n}\hat{x}_i^2$
- xç»è¿‡Uçš„æ—‹è½¬å˜ä¸º$\hat{x}$ï¼Œç‰¹å¾å€¼æ˜¯ä¸å˜çš„ï¼Œæ‰€ä»¥
  - $\sum_{i=1}^{n}x_2^2=x^TUU^Tx=\sum_{i=1}^{n}\hat{x}_2^2$
- ç»“åˆä¸Šé¢çš„å¼å­ï¼Œå¯å¾—ç‘ä¸½å•†
  - $\lambda_{min}x^Tx\le x^TAx\le\lambda_{max}x^Tx$

## PCA
- ä¸»æˆåˆ†åˆ†ææ˜¯ä¸€ç§æ— ç›‘ç£é™ç»´çš„æ–¹æ³•
- å®šä¹‰è¾“å…¥ï¼š$x\in\mathbb{R}^n,\;i=1,2,\cdots,m$
- è¾“å‡ºï¼šä¸»æˆåˆ†å‘é‡$z_1,\cdots,z_k\in\mathbb{R}^n,k\le n$ï¼ŒæŠ•å½±åˆ°ä¸»æˆåˆ†å‘é‡ä¸Šï¼Œæ–¹å·®æœ€å¤§

- PCAçš„ç›®çš„æ˜¯æ‰¾åˆ°çº¿æ€§ä¸ç›¸å…³çš„æ­£äº¤è½´ï¼Œè¿™äº›æ­£äº¤è½´ä¹Ÿç§°ä¸ºmç»´ç©ºé—´ä¸­çš„ä¸»æˆåˆ†ï¼ˆPCï¼‰ï¼Œä»¥å°†æ•°æ®ç‚¹æŠ•å½±åˆ°è¿™äº›PCä¸Šã€‚ç¬¬ä¸€å°PCæ•è·æ•°æ®ä¸­æœ€å¤§çš„å·®å¼‚ã€‚è®©æˆ‘ä»¬é€šè¿‡å°†PCAæ‹Ÿåˆåˆ°2Dæ•°æ®çŸ©é˜µä¸Šæ¥ç›´è§‚åœ°äº†è§£PCAï¼Œè¯¥çŸ©é˜µå¯ä»¥æ–¹ä¾¿åœ°ç”¨2Dæ•£ç‚¹å›¾è¡¨ç¤ºï¼š

![](/images/pca.gif)

- ç”±äºæ‰€æœ‰PCå½¼æ­¤æ­£äº¤ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨äºŒç»´ç©ºé—´ä¸­ä½¿ç”¨ä¸€å¯¹å‚ç›´çº¿ä½œä¸ºä¸¤å°PCã€‚ä¸ºäº†ä½¿ç¬¬ä¸€å°PCæ•è·æœ€å¤§çš„æ–¹å·®ï¼Œæˆ‘ä»¬æ—‹è½¬æˆ‘ä»¬çš„PCå¯¹ä»¥ä½¿å…¶å…¶ä¸­çš„ä¸€ä¸ªä¸æ•°æ®ç‚¹çš„åˆ†å¸ƒæœ€ä½³å¯¹é½ã€‚æ¥ä¸‹æ¥ï¼Œæ‰€æœ‰æ•°æ®ç‚¹éƒ½å¯ä»¥æŠ•å½±åˆ°PCä¸Šï¼Œå®ƒä»¬çš„æŠ•å½±ï¼ˆPC1ä¸Šçš„çº¢è‰²ç‚¹ï¼‰æœ¬è´¨ä¸Šæ˜¯æ•°æ®é›†é™ç»´çš„ç»“æœã€‚ä¸­æç´ï¼Œæˆ‘ä»¬åªæ˜¯å°†çŸ©é˜µä»2-Dç¼©å‡ä¸º1-Dï¼ŒåŒæ—¶ä¿ç•™äº†æœ€å¤§çš„æ–¹å·®ï¼

- å¯ä»¥é€šè¿‡åæ–¹å·®çŸ©é˜µCçš„ç‰¹å¾åˆ†è§£æ¥ç¡®å®šPCã€‚æ¯•ç«Ÿï¼Œç‰¹å¾åˆ†è§£çš„å‡ ä½•æ„ä¹‰æ˜¯é€šè¿‡æ—‹è½¬æ‰¾åˆ°Cçš„ç‰¹å¾å‘é‡çš„æ–°åæ ‡ç³»ã€‚

- å‡è®¾Cçš„ç‰¹å¾å‘é‡ç»„æˆçš„çŸ©é˜µä¸ºW, ç‰¹å¾å€¼ç»„æˆçš„å¯¹è§’çŸ©é˜µä¸º [å…¬å¼] ï¼Œåˆ™æœ‰å¦‚ä¸‹å…¬å¸æˆç«‹ï¼š
  - $CW=W\Lambda$
  - $\rightarrow CWW^{-1}=W\Lambda W^{-1}$
  - $\rightarrow C=W\Lambda W^{-1}$
- åœ¨ä¸Šå¼ä¸­ï¼Œåæ–¹å·®çŸ©é˜µCï¼ˆmÃ—mï¼‰è¢«åˆ†è§£ä¸ºç‰¹å¾å‘é‡Wï¼ˆmÃ—mï¼‰çš„çŸ©é˜µå’Œmä¸ªç‰¹å¾å€¼Î›çš„å¯¹è§’çŸ©é˜µã€‚ç‰¹å¾å‘é‡æ˜¯Wä¸­çš„åˆ—å‘é‡ï¼Œå®é™…ä¸Šæ˜¯æˆ‘ä»¬è¦å¯»æ‰¾çš„PCã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çŸ©é˜µä¹˜æ³•å°†æ•°æ®æŠ•å½±åˆ°PCç©ºé—´ä¸Šã€‚å‡ºäºé™ç»´çš„ç›®çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†æ•°æ®ç‚¹æŠ•å½±åˆ°å‰kä¸ªPCä¸Šï¼Œä½œä¸ºæ•°æ®çš„è¡¨ç¤ºå½¢å¼ï¼š

  - $X_k=XW_k$

- ä»¥äºŒç»´ç‰¹å¾ä¸ºä¾‹ï¼Œä¸¤ä¸ªç‰¹å¾ä¹‹é—´å¯èƒ½å­˜åœ¨çº¿æ€§å…³ç³»çš„ï¼ˆä¾‹å¦‚è¿™ä¸¤ä¸ªç‰¹å¾åˆ†åˆ«æ˜¯è¿åŠ¨çš„æ—¶é€Ÿå’Œç§’é€Ÿåº¦ï¼‰ï¼Œè¿™æ ·å°±é€ æˆäº†ç¬¬äºŒç»´ä¿¡æ¯æ˜¯å†—ä½™çš„ã€‚PCAçš„ç›®æ ‡æ˜¯ä¸ºäº†å‘ç°è¿™ç§ç‰¹å¾ä¹‹é—´çš„çº¿æ€§å…³ç³»ï¼Œæ£€æµ‹å‡ºè¿™äº›çº¿æ€§å…³ç³»ï¼Œå¹¶ä¸”å»é™¤è¿™çº¿æ€§å…³ç³»ã€‚

- å®šä¹‰ä¸¤ä¸ªç‰¹å¾ä¹‹é—´çš„åæ–¹å·®ï¼š
$$Ïƒ_{jk}=\frac{1}{n-1}\sum_{i=1}^n(x_{ij}-\overline x_j)(x_{ik}-\overline x_k)$$

- å¤šä¸ªç‰¹å¾ä¹‹é—´çš„åæ–¹å·®çŸ©é˜µï¼š
$$\sum = \frac{1}{n-1}((X-\overline{x})^T(X-\overline{x}))$$
- where $\overline{x}=\frac{1}{n}\sum_{k=1}^n x_i$

- æ ¹æ®åæ–¹å·®çŸ©é˜µï¼Œæ±‚å‡ºç‰¹å¾å€¼ã€ç‰¹å¾å‘é‡ï¼Œæ‰¾åˆ°å¯¹åº”ç‰¹å¾å€¼è¾ƒå¤§çš„kä¸ªç‰¹å¾å‘é‡ç»„åˆæˆä¸º**å˜æ¢çŸ©é˜µ**ï¼Œè¯´æ˜è¿™kä¸ªç‰¹å¾å€¼åœ¨æ•´ä¸ªç‰¹å¾ç©ºé—´æ˜¯æ¯”è¾ƒé‡è¦çš„ã€‚é€šè¿‡çŸ©é˜µä¹˜æ³•ï¼Œæˆ‘ä»¬å°±æŠŠåŸæ ·æœ¬ç©ºé—´å‹ç¼©äº†ã€‚


### ç‰¹ç‚¹
- é™ç»´
- æ³•å‘é‡çš„ä¼°è®¡

## kernel PCA
- è¾“å…¥æœ‰æ—¶ä¸èƒ½é€šè¿‡çº¿å‹åˆ†ç±»å™¨è¿›è¡Œåˆ†ç±»ï¼Œå¦‚æœå¯ä»¥å‡ç»´æ“ä½œï¼Œå°±å¯ä»¥å®ç°çº¿æ€§æ“ä½œè¿›è¡Œåˆ†ç±»äº†
- æ­¥éª¤ä¸PCAç›¸åŒ
- è¾“å…¥$x\in\mathbb{R}^n$ï¼Œéçº¿æ€§æ˜ å°„$\phi:\mathbb{R}^{n_0}\rightarrow\mathbb{R}^{n_1}$
  - å‡è®¾$\phi(x)$æ˜¯å‡å€¼ä¸º0çš„åˆ†å¸ƒ
  - è®¡ç®—åæ–¹å·®çŸ©é˜µï¼š
    - $H=\frac{1}{N}\sum_{i=1}^{N}\phi(x_i)\phi^T(x_i)$
  - æ±‚è§£ç‰¹å¾å‘é‡å’Œç‰¹å¾å€¼ï¼š
    - $Hz=\lambda z$

- kernelçš„é€‰æ‹©ï¼š

kernel|è¯´æ˜
-|-
Linear|$k(x_i,x_j)=x_i^Tx_j$
Polynomial|$k(x_i,x_j)=(1+x_i^Tx_j)^p$
Gaussian|$k(x_i,x_j)=e^{-\beta\left\|x_i-x_j\right\|_2}$
Laplacian|$k(x_i,x_j)=e^{-\beta\left\|x_i-x_j\right\|_1}$

# å¯»æ‰¾æ³•å‘é‡
- ç”¨æ›²çº¿æ‹Ÿåˆç‚¹äº‘æ•°æ®ï¼Œæ›²é¢ä¸Šä»»æ„ä¸€ç‚¹ï¼Œéƒ½å¯ä»¥æ‰¾åˆ°åˆ‡å¹³é¢ï¼Œåªè¦èƒ½å¤Ÿè·å–åˆ‡å¹³é¢çš„æ³•å‘é‡ã€‚
- å¦‚ä½•æ‰¾æ³•å‘é‡ï¼ŒPCAå¯»æ‰¾çš„æ˜¯æœ€æœ‰ç”¨çš„å‘é‡ï¼Œæ–¹å·®æœ€å¤§ï¼Œè€Œæ³•å‘é‡åˆ™æ‰¾æœ€æ²¡ç”¨çš„å‘é‡ï¼Œåˆ†å¸ƒæœ€é›†ä¸­ã€‚å…·ä½“æ­¥éª¤
  - é€‰æ‹©ä¸€ä¸ªç‚¹
  - å®šä¹‰ä¸€ä¸ªé‚»åŸŸ
  - PCA
  - å¯»æ‰¾å¯¹åº”ç‰¹å¾å€¼æœ€å°çš„ç‰¹å¾å‘é‡
  - åŒæ—¶å¾—åˆ°æ›²ç‡ï¼š$\frac{\lambda_n}{\sum_{i=1}^{n}}\lambda_i$

## é‚»åŸŸçš„é€‰æ‹©
- é‚»åŸŸå¤§å°çš„é€‰æ‹©éå¸¸é‡è¦ï¼Œå¤§é‚»åŸŸå€¼å¯ä»¥é¿å…è¯¯å·®ï¼Œä½†ä¼šé™ä½ç²¾ç»†ç¨‹åº¦ï¼Œå¯¼è‡´æ³•å‘é‡ä¸å‡†ç¡®ï¼›å°é‚»åŸŸå¯¹æ¨¡å‹è¡¨è¾¾æ›´ç²¾å‡†ï¼Œä½†å®¹æ˜“è¢«å™ªå£°å½±å“
- æå‡çš„æ–¹å¼ï¼š
  - æ ¹æ®ä¿¡æ¯çš„ç‰¹å¾é€‰æ‹©æ¯”è¾ƒç±»ä¼¼çš„é‚»åŸŸï¼Œä¾‹å¦‚RGBDé¢œè‰²ã€Lidaråå°„ç‡ï¼Œåœ¨æ¯ä¸ªç‚¹å¢åŠ æƒé‡å±æ€§
  - RANSAC
  - DeepLearning

# æ·±åº¦å­¦ä¹ 
## PointNet
- [PointNet](https://arxiv.org/pdf/1612.00593.pdf)ï¼Œ2016ã€‚ç›´æ¥ä½¿ç”¨ç‚¹äº‘æ•°æ®è¿›è¡Œåˆ†ç±»ã€åˆ†å‰²çš„ç›®æ ‡ã€‚

- ä¹‹å‰å¤„ç†ç‚¹äº‘çš„æ–¹æ³•
  - å¯ä»¥æ …æ ¼åŒ–åï¼Œé€šè¿‡3D-CNNå¤„ç†ï¼Œä¾‹å¦‚VoxNetç®—æ³•ï¼›
  - é€šè¿‡æŠ•å½±ï¼Œå¾—åˆ°å›¾åƒï¼Œé€šè¿‡2D-CNNè¯†åˆ«ï¼Œä¾‹å¦‚Multi-view CNN
  - æŠ½å–ç‰¹å¾ï¼Œé€šè¿‡å…¨è¿æ¥ç½‘ç»œå¤„ç†

- PointNetå°±ç›´æ¥åˆ©ç”¨ç‚¹äº‘æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå®ç°åˆ†ç±»ã€åˆ†å‰²ç­‰æ“ä½œã€‚
- åˆ©ç”¨ç‚¹äº‘ï¼Œæ¨¡å‹ä¼šé‡åˆ°ä¸¤ä¸ªæŒ‘æˆ˜ï¼š
  - æ¨¡å‹é¡ºåºæ— å…³æ€§
  - æ¨¡å‹å‡ ä½•ä¸å˜æ€§


### æ¨¡å‹é¡ºåºæ— å…³æ€§
- å¯¹ç§°å‡½æ•°æ»¡è¶³é¡ºåºæ— å…³ï¼Œä¾‹å¦‚ï¼šmax()ã€sum()ç­‰å‡½æ•°ã€‚
- ç¥ç»ç½‘ç»œä¸­$f(x1,...,x_n)=\gamma g(h(x_1),...,h(x_n))$çš„å¤åˆå‡½æ•°ï¼Œå…±äº«çš„h(x)å‡½æ•°ä½¿ç”¨MLPå°†è¾“å…¥è½¬æ¢ä¸ºé«˜ç»´å‘é‡ï¼Œå‡å°‘åç»­g(x)æ± åŒ–çš„ç»´åº¦ä¸¢å¤±çš„é—®é¢˜

![å¤åˆå‡½æ•°](/images/pasted-288.png)

- ä½œè€…è¯æ˜ï¼šPointNetå¯ä»¥æ‹Ÿåˆä»»æ„çš„è¿ç»­å‡½æ•°

### æ¨¡å‹å‡ ä½•ä¸å˜æ€§
- å¼•å…¥å˜æ¢ç½‘ç»œï¼Œé€šè¿‡çŸ©é˜µä¹˜æ³•ï¼Œä½¿å¾—æ¨¡å‹å¯ä»¥è‡ªåŠ¨æ‰¾åˆ°æ—‹è½¬çš„è§’åº¦ï¼Œé€‚åº”ç›®æ ‡çš„è¯†åˆ«ã€‚

![æ—‹è½¬åŒ¹é…å‡½æ•°](/images/pasted-289.png)

- å…¶ä¸­T-Netå¯ä»¥ç”¨mlpå®ç°ã€‚

### æ•´ä½“æ¨¡å‹

![åˆ†ç±»æ£€æµ‹](/images/pasted-290.png)

- åœ¨ç›®æ ‡åˆ†å‰²æ—¶ï¼Œå…¨å±€ç‰¹å¾å·²ç»ä¸å…·æœ‰æ¯ä¸ªç‚¹çš„ä¿¡æ¯äº†ï¼Œæ‰€ä»¥ä¸maxpoolå‰çš„æ•°æ®è¿›è¡Œäº†ç‰¹å¾çš„æ‹¼æ¥ï¼Œå†ç»è¿‡MLPï¼Œå¾—åˆ°æ¯ä¸ªç‚¹çš„åˆ†ç±»å¾—åˆ†ã€‚
![ç›®æ ‡åˆ†å‰²](/images/pasted-291.png)


## PointNet++

- [PointNet++](https://arxiv.org/abs/1706.02413)2017ï¼ŒPointNetæ²¡æœ‰å±€éƒ¨åŒºåŸŸçš„å…³æ³¨ï¼ŒPointNet++å€Ÿé‰´äº†CNNçš„æ€æƒ³ï¼Œé€šè¿‡ä¸²è”çš„å¤šçº§åˆ«çš„æ„Ÿå—é‡ï¼Œå¤šå±‚æ¬¡ç‰¹å¾æå–ç»“æ„æå‡æ¨¡å‹æ€§èƒ½ï¼ŒåŒæ—¶ä¿è¯æ—‹è½¬ä¸å˜æ€§å’Œé¡ºåºæ— å…³æ€§ã€‚


### æ”¹è¿›
- æ•´ä½“æµç¨‹ï¼š
  - sampling centroidæŠ½æ ·ï¼šåœ¨ç‚¹äº‘ä¸­é¦–å…ˆé€šè¿‡centroidä¸­å¿ƒç‚¹
  - group points by centroidç»„ç±»åˆ«é€‰å–ï¼šåœ¨centroidå‘¨å›´çš„ç‚¹ç»„æˆä¸€ä¸ªç»„ï¼Œå¤šä¸ªcentroidå°†ç‚¹é›†åˆ’åˆ†ä¸ºé‡å çš„å±€éƒ¨åŒºåŸŸã€‚
  - pointnet on each groupï¼šå¯¹æ¯ä¸ªç»„è¿›è¡Œpointnetè¯†åˆ«ï¼Œæ­¤æ—¶é€šè¿‡å¤šä¸ªå±€éƒ¨ä¿¡æ¯çš„å­¦ä¹ ï¼Œæ¨¡å‹å°±å…·æœ‰äº†ä¸Šä¸‹æ–‡çš„ä¿¡æ¯äº†

![ç‚¹é›†](/images/pasted-295.png)

- ä¸CNNç›¸ä¼¼ï¼Œæå–å±€éƒ¨ç‰¹å¾ä»¥æ•è·æ¥è‡ªå°é‚»åŸŸçš„ç²¾ç»†å‡ ä½•ç»“æ„ã€‚è¿™äº›å±€éƒ¨ç‰¹å¾å°†è¿›ä¸€æ­¥åˆ†ç»„ä¸ºè¾ƒå¤§çš„å•å…ƒï¼Œå¹¶è¿›è¡Œå¤„ç†ä»¥ç”Ÿæˆæ›´é«˜çº§åˆ«çš„ç‰¹å¾ã€‚é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°è·å¾—æ•´ä¸ªç‚¹é›†çš„ç‰¹å¾ä¸ºæ­¢ã€‚


### ç»“æ„å›¾
![ç»“æ„å›¾](/images/pasted-296.png)

### é‡‡æ ·çš„æ–¹æ³•
- uniform samplingï¼šå‡åŒ€é‡‡æ ·
- farthest samplingï¼šæœ€è¿œç‚¹é‡‡æ ·ï¼Œå¯ä»¥æ›´å¥½çš„è¦†ç›–é‡‡æ ·ç©ºé—´ã€‚ç±»ä¼¼äºkmeans++åˆå§‹ç‚¹é€‰å–
  > input points$[x_1,x_2,...,x_n]$, we use iterative FPS to choose a subset of points$[x_{i_1},x_{i_2},...,x_{i_m}]$, such that $x_{i_j}$ is the most distant point(in metric distance) from the set$[x_{i_1},x_{i_2},...,x_{i_{j-1}}]$ with regard to the rest points. 
  
### åˆ†ç»„æ–¹æ³•
- K nearest neighborsï¼šKNNç®—æ³•
- Ball queryï¼šçƒæŸ¥è¯¢çš„æ–¹æ³•
  - æŸ¥æ‰¾ç‚¹æ±‚åŠå¾„èŒƒå›´æ‰€æœ‰ç‚¹ï¼Œå¯ä»¥ä¿è¯å›ºå®šåŒºåŸŸå°ºå¯¸ï¼Œæ˜¯åŒºåŸŸç‰¹å¾æ›´å…·é€šç”¨æ€§

### æ’å€¼æ–¹æ³•
- åœ¨åˆ†å‰²æ—¶ï¼Œç”±äºç‚¹äº‘çš„ç¨€ç–ï¼Œéœ€è¦è¿›è¡ŒFeature Porpagationè¿›è¡Œæ’å€¼ï¼Œæ’å€¼æ–¹æ³•åŸºäºè·ç¦»æƒé‡çš„å€’æ•°å¹³å‡ï¼ŒåŸºäºKNN(p=2,k=3)
- $f^{(j)}(x)=\frac{\sum_{i=1}^{k}{w_i(x)f_{i}^{(j)}}}{\sum_{i=1}^{k}{w_i(x)}},\; where\; w_i(x)=\frac{1}{d(x,x_i)^p},j=1,...,C$


### éå‡åŒ€ç‚¹äº‘æ•°æ®ä¼˜åŒ–
- ç”±äºç‚¹äº‘æ•°æ®çš„è¿‘å¯†è¿œç–ï¼Œå™ªå£°çš„éå‡åŒ€ç‚¹äº‘å¯¹äºPointNet++éå±‚æ¬¡è¯çš„å­¦ä¹ æœ‰å¾ˆå¤§çš„å½±å“ï¼ŒPointNet++ä½¿ç”¨MRGæ–¹æ³•ï¼Œå¢åŠ å¤šå°ºåº¦ä¿¡æ¯
  - Multi-scale grouping(MSG)ï¼šå¤šå°ºåº¦çš„æ‹¼æ¥ï¼Œæ‹¼æ¥å¤šä¸ªè§†é‡çš„ç‰¹å¾ç‚¹ï¼Œæ•°é‡çº§è¾ƒå¤§
  - Multi-resolution grouping(MRG)ï¼šå¤šå±‚æ¬¡çš„å‡­å€Ÿï¼Œåˆ†å±‚æ‹¼æ¥
  - Single scale grouping (SSG)

![éå‡åŒ€ç‚¹äº‘çš„å¤„ç†](/images/pasted-297.png)


## MV3D
![](/images/pasted-337.png)

- å°†ç‚¹äº‘æŠ•å½±åˆ°ä¸¤ä¸ªæ–¹å‘(brid view+front view) + Faster RCNN
  â€¢ 3D proposal from BV, project into other views
  â€¢ ROI pooling in each view, combined for Cls./Reg.
- Pioneer work but not frequently used nowadays

## VoxelNet
- VoxelNet: End-to-End Learning for Point Cloud Based 3D Object Detection, Yin Zhou, et.al.

**æ­¥éª¤**
![](/images/pasted-338.png)
![](/images/pasted-339.png)

1. Build voxel grid
2. Get feature per-cellï¼šPointNet
3. 3D voxel â†’ 2D feature mapï¼š 3D convolution
4. Region Proposal Network (RPN)
  - One network for one category.
  - RPN is only predicting if the anchor box is an object

**æµç¨‹**
- ç”±äºç‚¹äº‘æ¯”è¾ƒç¨€ç–ï¼Œ90%çš„voxeléƒ½æ˜¯ç©ºçš„ï¼Œé€ æˆè®¡ç®—çš„æµªè´¹ï¼Œä½œè€…å¯¹100x400x352ä½“ç´ çš„è¡¨è¾¾è¿›è¡Œäº†å®šä¹‰
![](/images/pasted-340.png)

1. Build two containers
  1. K â€“ maximum number of non-empty voxels
  2. T â€“ maximum number of points per voxel
  3. ğ¾ Ã— ğ‘‡ Ã— 7 for pointsï¼š(ğ‘¥ğ‘–, ğ‘¦ğ‘–, ğ‘§ğ‘–, ğ‘Ÿğ‘–, ğ‘¥ğ‘– âˆ’ ğ‘£ğ‘–ğ‘¥, ğ‘¦ğ‘– âˆ’ ğ‘£ğ‘–ğ‘¦, ğ‘§ âˆ’ ğ‘£ğ‘–ğ‘§)
  4.  ğ¾ Ã— 3 for voxel coordinates
2. Iterate each point
  1. Determine voxel coordinate (â„ğ‘¥, â„ğ‘¦, â„ğ‘§)ï¼šHash(â„ğ‘¥, â„ğ‘¦, â„ğ‘§) â†’ index ğ‘˜ in container (c)(d)
  2. If ğ‘˜-th element exist in (c)/(d), append to (c)
  3. If not, create ğ‘˜-th element in (c) (d)
3. VFE / PointNet on (c) â†’ ğ¾ Ã— 128
4. Put (c) back to the voxel grid â†’ 128 Ã— 10 Ã— 400 Ã— 352
5. Input: 128 Ã— 10 Ã— 400 Ã— 352 â†’ Conv3D
  - Output channel # 64, kernel (3, 3, 3), stride (2, 1, 1), padding (1, 1, 1)
  - Output channel # 64, kernel (3, 3, 3), stride (1, 1, 1), padding (0, 1, 1)
  - Output channel # 64, kernel (3, 3, 3), stride (2, 1, 1), padding (1, 1, 1)
  - Output: Câ€² Ã— ğ·â€² Ã— ğ»â€² Ã— ğ‘Šâ€² â†’ 64 Ã— 2 Ã— 400 Ã— 352
  - Reshape into 2D feature map 2ğ¶â€² Ã— ğ»â€² Ã— ğ‘Šâ€²
  - This is image-like feature map!

![](/images/pasted-341.png)

- å†ç»è¿‡åˆ†ç±»ç½‘ç»œå’Œå›å½’ç½‘ç»œå¾—åˆ°åˆ†ç±»å’Œä½ç½®

**æŸå¤±**

- $L=\alpha\frac{1}{N_{pos}}\sum_iL_{cls}(p_i^{pos},1)+\beta\frac{1}{N_{neg}}\sum_jL_{cls}(p_j^{neg},0)+\frac{1}{N_{pos}}\sum_iL_{reg}(u_i,u_i^*)$
  - $L_{cls}$ is â€œBinary Cross Entropy Lossâ€ â€“ in fact not a standard one
  - VoxelNet represents the â€objectness confidenceâ€ with only 1 number, instead of 2.
  - $L_{cls}(p_i^{pos})=log(\sigma(e^{p_i^{pos}}))$
  - $L_{cls}(p_i^{neg})=log(1-\sigma(e^{p_i^{neg}}))$
  - $Sigmoid\sigma(x)=\frac{e^x}{e^x+1}\in(0,1)$

- Ground truth box: $u^*=(x_c^g,y_c^g,z_c^g,l^g,w^g,h^g,\theta^g)$
- A matching anchor box (positive box): $u=(x_c^a,y_c^a,z_c^a,l^a,w^a,h^a,\theta^a)$
- Loss between Ground truth and positive anchor box:
  - $L_{reg}(u,u^*)=\rho(\triangle x,\triangle y,\triangle z,\triangle l,\triangle w,\triangle h,\triangle \theta)$
  - å…¶ä¸­ï¼š$\triangle x=\frac{x_c^g-x_c^a}{d^a}$
  - $\triangle y=\frac{y_c^g-y_c^a}{d^a}$
  - $\triangle z=\frac{z_c^g-z_c^a}{h^a}$
  - $\triangle l=\log(\frac{l^g}{l^a})$
  - $\triangle w=\log(\frac{w^g}{w^a})$
  - $\triangle h=\log(\frac{h^g}{h^a})$
  - $\triangle \theta=\theta^g-\theta^a$
  - $d^a=\sqrt{(l^a)^2+(w^a)^2}$



## PointPillars
![](/images/pasted-342.png)

**æŸå¤±å‡½æ•°**
- $L=\frac{1}{N_{pos}}(\beta_{loc}L_{loc}+\beta_{cls}L_{cls}+\beta_{dir}L_{dir})$
  - å…¶ä¸­ï¼š$L_{loc}$same as VoxelNetï¼Œexcept:
    - $\triangle\theta=\sin(\theta^g-\theta^a)$ï¼Œè¿™é‡Œçš„è§’åº¦åœ¨æŸäº›ç‰¹å®šå€¼æ— æ•ˆ
  - $L_{dir}$ï¼šå°†æ—‹è½¬åˆ’åˆ†ä¸º0~90,90~180,180~270,270~360
  - $L_{cls}$ï¼šä½¿ç”¨focallossä»£æ›¿crossentropyLossï¼Œè§£å†³ç±»åˆ«ä¸å‡è¡¡é—®é¢˜

## PointRCNN
- [PointRCNN](https://arxiv.org/abs/1812.04244),[ç®—æ³•ä»‹ç»](https://blog.csdn.net/taifengzikai/article/details/96840993)
- two stageæ–¹æ³•ï¼Œå…ˆå¾—åˆ°æ¯ä¸ªç‚¹äº‘feature map->region proposal network->regin pooling->clså’Œreg
![](/images/pasted-343.png)


## Frustum PointNet
![](/images/pasted-344.png)

- ç”¨MaskRCNNå°†å›¾åƒä¸­çš„ç›®æ ‡è¿›è¡Œåˆ†å‰²ï¼Œå†æ˜ å°„åˆ°ä¸‰ç»´ç‚¹äº‘ä¸­çš„æ•°æ®ï¼Œå¾—åˆ°åˆ†å‰²çš„å®ä¾‹
- å®é™…æ•ˆæœå–å†³äºMaskRCNNï¼Œè€Œå…¶åŸºäºäºŒç»´ï¼Œä¸¢å¤±äº†å¾ˆå¤šä¿¡æ¯
- ç‚¹äº‘æ•°æ®å’Œå›¾åƒæ•°æ®ä¸ä¸€å®šæ˜¯åŒæ­¥çš„ï¼Œå¯èƒ½æœ‰å»¶è¿Ÿä»¥åŠè§†å·®ï¼Œå¯¼è‡´å·¥ç¨‹åœºæ™¯å¹¶ä¸ååˆ†ç²¾ç¡®

## PointPainting
![](/images/pasted-345.png)

- Augment each point with the semantic segmentation label from an image based semantic segmentation network.

## SoNet
![](/images/pasted-349.png)

- è‡ªç»„ç»‡æ˜ å°„
- point to node
