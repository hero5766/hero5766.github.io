<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="yaml文件"><meta name="keywords" content="python"><meta name="author" content="hero576"><meta name="copyright" content="hero576"><title>yaml文件 | void land space</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.8.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.8.2"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?5ff8fca367285c16c6dd5c16ca2ccc1b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.0.2'
} </script><meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="void land space" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#yaml%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text"> yaml简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text"> 语法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text"> 数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9%E8%B1%A1"><span class="toc-number">2.1.1.</span> <span class="toc-text"> 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">2.1.2.</span> <span class="toc-text"> 数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%AF%E9%87%8F"><span class="toc-number">2.1.3.</span> <span class="toc-text"> 纯量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%AF%A6%E8%A7%A3"><span class="toc-number">2.1.4.</span> <span class="toc-text"> 字符串详解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">2.1.5.</span> <span class="toc-text"> 数据类型转换</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text"> 语法格式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%A6%E5%8F%B7%E7%B3%BB%E7%BB%9F"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 符号系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%95%E7%94%A8"><span class="toc-number">2.2.2.</span> <span class="toc-text"> 引用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#python%E8%A7%A3%E6%9E%90yaml"><span class="toc-number">3.</span> <span class="toc-text"> python解析yaml</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.1.</span> <span class="toc-text"> 示例</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/images/haimianbaobao.jpg"></div><div class="author-info__name text-center">hero576</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">66</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">14</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">5</span></a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">void land space</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">主页</a><a class="site-page" href="/archives">文章</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/gallery">相册</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">yaml文件</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-07-13</time><span class="post-meta__separator">|</span><i class="fa fa-inbox" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/programme/"> programme</a></div><div class="article-container" id="post-content"><blockquote>
<p>yaml文件格式</p>
</blockquote>
<a id="more"></a>
<h1 id="yaml简介"><a class="markdownIt-Anchor" href="#yaml简介"></a> yaml简介</h1>
<ul>
<li>yaml是一种用来写配置文件的序列化语言，跟json有些像，yaml又称作json的超集，yaml的设计则是为了友好可读性，主要用于配置信息的书写，而json设计的目的则是为了简单和通用，主要用于存储数据和应用层数据通信使用。</li>
</ul>
<h1 id="语法"><a class="markdownIt-Anchor" href="#语法"></a> 语法</h1>
<h2 id="数据类型"><a class="markdownIt-Anchor" href="#数据类型"></a> 数据类型</h2>
<ul>
<li>yaml主要有三种类型的数据原语，基于这三种数据原语可以组合出任何数据结构。</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>说明</th>
<th>官方表达</th>
</tr>
</thead>
<tbody>
<tr>
<td>Maps</td>
<td>对象，键值对</td>
<td><a target="_blank" rel="noopener" href="https://yaml.org/spec/1.2/spec.html#mapping//">mappings</a> (hashes/dictionaries)</td>
</tr>
<tr>
<td>Lists</td>
<td>数组</td>
<td><a target="_blank" rel="noopener" href="https://yaml.org/spec/1.2/spec.html#sequence//">sequences</a> (arrays/lists)</td>
</tr>
<tr>
<td>Scales</td>
<td>纯量，不可分割的值</td>
<td><a target="_blank" rel="noopener" href="https://yaml.org/spec/1.2/spec.html#scalar//">scalars</a> (strings/numbers)</td>
</tr>
</tbody>
</table>
<h3 id="对象"><a class="markdownIt-Anchor" href="#对象"></a> 对象</h3>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">animal:</span> <span class="string">pets</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">animal:</span> <span class="string">&#x27;pets&#x27;</span> &#125;</span><br><span class="line"><span class="attr">hash:</span> &#123; <span class="attr">name:</span> <span class="string">Steve</span>, <span class="attr">foo:</span> <span class="string">bar</span> &#125; </span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">hash:</span> &#123; <span class="attr">name:</span> <span class="string">&#x27;Steve&#x27;</span>, <span class="attr">foo:</span> <span class="string">&#x27;bar&#x27;</span> &#125; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="数组"><a class="markdownIt-Anchor" href="#数组"></a> 数组</h3>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">Cat</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Dog</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Goldfish</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> [ <span class="string">&#x27;Cat&#x27;</span>, <span class="string">&#x27;Dog&#x27;</span>, <span class="string">&#x27;Goldfish&#x27;</span> ]</span><br><span class="line"><span class="bullet">-</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Cat</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Dog</span></span><br><span class="line"> <span class="bullet">-</span> <span class="string">Goldfish</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> [ [ <span class="string">&#x27;Cat&#x27;</span>, <span class="string">&#x27;Dog&#x27;</span>, <span class="string">&#x27;Goldfish&#x27;</span> ] ]</span><br><span class="line"><span class="attr">animal:</span> [<span class="string">Cat</span>, <span class="string">Dog</span>]</span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">animal:</span> [ <span class="string">&#x27;Cat&#x27;</span>, <span class="string">&#x27;Dog&#x27;</span> ] &#125;</span><br></pre></td></tr></table></figure>
<h3 id="纯量"><a class="markdownIt-Anchor" href="#纯量"></a> 纯量</h3>
<ul>
<li>数值类型：字符串、整数、浮点数</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">number:</span> <span class="number">12.30</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">number:</span> <span class="number">12.30</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>布尔值</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">isSet:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">isSet:</span> <span class="literal">true</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Null</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">parent:</span> <span class="string">~</span> </span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">parent:</span> <span class="literal">null</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>时间</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 采用 ISO8601 格式</span></span><br><span class="line"><span class="attr">iso8601:</span> <span class="number">2001-12-14t21:59:43.10-05:00</span> </span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">iso8601:</span> <span class="string">new</span> <span class="string">Date(&#x27;2001-12-14t21:59:43.10-05:00&#x27;)</span> &#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>日期</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 采用复合 iso8601 格式的年、月、日表示</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">1976-07-31</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">date:</span> <span class="string">new</span> <span class="string">Date(&#x27;1976-07-31&#x27;)</span> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="字符串详解"><a class="markdownIt-Anchor" href="#字符串详解"></a> 字符串详解</h3>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 字符串默认不使用引号表示。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">这是一行字符串</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">str:</span> <span class="string">&#x27;这是一行字符串&#x27;</span> &#125;</span><br><span class="line"><span class="comment"># 如果字符串之中包含空格或特殊字符，需要放在引号之中。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">&#x27;内容： 字符串&#x27;</span> </span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">str:</span> <span class="string">&#x27;内容: 字符串&#x27;</span> &#125;</span><br><span class="line"><span class="comment">#单引号和双引号都可以使用，双引号不会对特殊字符转义。</span></span><br><span class="line"><span class="attr">s1:</span> <span class="string">&#x27;内容\n字符串&#x27;</span></span><br><span class="line"><span class="attr">s2:</span> <span class="string">&quot;内容\n字符串&quot;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">s1:</span> <span class="string">&#x27;内容\\n字符串&#x27;</span>, <span class="attr">s2:</span> <span class="string">&#x27;内容\n字符串&#x27;</span> &#125;</span><br><span class="line"><span class="comment"># 单引号之中如果还有单引号，必须连续使用两个单引号转义。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">&#x27;labor&#x27;</span><span class="string">&#x27;s day&#x27;</span> </span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">str:</span> <span class="string">&#x27;labor\&#x27;s day&#x27;</span> &#125;</span><br><span class="line"><span class="comment"># 字符串可以写成多行，从第二行开始，必须有一个单空格缩进。换行符会被转为空格。</span></span><br><span class="line"><span class="attr">str:</span> <span class="string">这是一段</span></span><br><span class="line">  <span class="string">多行</span></span><br><span class="line">  <span class="string">字符串</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">str:</span> <span class="string">&#x27;这是一段 多行 字符串&#x27;</span> &#125;</span><br><span class="line"><span class="comment"># 多行字符串可以使用|保留换行符，也可以使用&gt;折叠换行。</span></span><br><span class="line"><span class="attr">this:</span> <span class="string">|</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line">  <span class="string">Bar</span></span><br><span class="line"><span class="attr">that:</span> <span class="string">&gt;</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line">  <span class="string">Bar</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">this:</span> <span class="string">&#x27;Foo\nBar\n&#x27;</span>, <span class="attr">that:</span> <span class="string">&#x27;Foo Bar\n&#x27;</span> &#125;</span><br><span class="line"><span class="comment"># +表示保留文字块末尾的换行，-表示删除字符串末尾的换行。</span></span><br><span class="line"><span class="attr">s1:</span> <span class="string">|</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line"><span class="attr">s2:</span> <span class="string">|+</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line"><span class="attr">s3:</span> <span class="string">|-</span></span><br><span class="line">  <span class="string">Foo</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">s1:</span> <span class="string">&#x27;Foo&#x27;</span>, <span class="attr">s2:</span> <span class="string">&#x27;Foo\n&#x27;</span>, <span class="attr">s3:</span> <span class="string">&#x27;Foo&#x27;</span> &#125;</span><br><span class="line"><span class="comment"># 字符串之中可以插入 HTML 标记。</span></span><br><span class="line"><span class="attr">message:</span> <span class="string">|</span></span><br><span class="line">  <span class="string">&lt;p</span> <span class="string">style=&quot;color:</span> <span class="string">red&quot;&gt;</span></span><br><span class="line">    <span class="string">段落</span></span><br><span class="line">  <span class="string">&lt;/p&gt;</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">message:</span> <span class="string">&#x27;&lt;p style=&quot;color: red&quot;&gt;\n  段落\n&lt;/p&gt;\n&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="数据类型转换"><a class="markdownIt-Anchor" href="#数据类型转换"></a> 数据类型转换</h3>
<ul>
<li>YAML 允许使用两个感叹号，强制转换数据类型。</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">e:</span> <span class="type">!!str</span> <span class="number">123</span></span><br><span class="line"><span class="attr">f:</span> <span class="type">!!str</span> <span class="literal">true</span></span><br><span class="line"><span class="string">&gt;&gt;&gt;</span> &#123; <span class="attr">e:</span> <span class="string">&#x27;123&#x27;</span>, <span class="attr">f:</span> <span class="string">&#x27;true&#x27;</span> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="语法格式"><a class="markdownIt-Anchor" href="#语法格式"></a> 语法格式</h2>
<ul>
<li>yaml文件大小写敏感</li>
<li>不允许使用用tab制表符号代替空格</li>
<li>使用缩进表示层级关系</li>
<li>缩进的空格数目不重要，只要相同层级的元素左侧对齐即可</li>
<li>字符串默认不使用引号表示</li>
<li>单引号之中如果还有单引号，必须连续使用两个单引号转义<code>'labor''s day'</code></li>
</ul>
<h3 id="符号系统"><a class="markdownIt-Anchor" href="#符号系统"></a> 符号系统</h3>
<table>
<thead>
<tr>
<th>符号</th>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-</code></td>
<td>破折号和空格</td>
<td>Lists集合</td>
</tr>
<tr>
<td><code>:</code></td>
<td>冒号和空格</td>
<td>Maps键值对</td>
</tr>
<tr>
<td><code>#</code></td>
<td>井号</td>
<td>注释，从这个字符一直到行尾，都会被解析器忽略</td>
</tr>
<tr>
<td><code>---</code></td>
<td>三个破折号</td>
<td>文档内容分隔线（多用于文档开始的地方）</td>
</tr>
<tr>
<td><code>...</code></td>
<td>三个冒号</td>
<td>表示文档的结束</td>
</tr>
<tr>
<td><code>&amp;</code><br><code>*</code><br><code>&lt;&lt;</code></td>
<td></td>
<td>在<code>-</code>或<code>:</code>后加上<code>&amp;</code>用来建立锚点（defaults）<br>使用<code>&lt;&lt;: *锚点名</code>直接将锚点数据插入到当前的数据中<br><code>*锚点名</code>用来引用锚点。两者成对表达，像定义变量a，再引用变量a的关系，是一种重复项的替换。</td>
</tr>
<tr>
<td><code>~</code></td>
<td>波浪</td>
<td>null</td>
</tr>
<tr>
<td><code>!!</code></td>
<td>双感叹号</td>
<td>表示强制转换数据类型<code>e: !!str 123</code></td>
</tr>
<tr>
<td><code>|</code></td>
<td></td>
<td>保留多行文本（保留换行符）</td>
</tr>
<tr>
<td>&gt;</td>
<td></td>
<td>将多行拼接为一行</td>
</tr>
</tbody>
</table>
<h3 id="引用"><a class="markdownIt-Anchor" href="#引用"></a> 引用</h3>
<ul>
<li>锚点<code>&amp;</code>：建立锚点（defaults），别名<code>*</code>：用来引用锚点，<code>&lt;&lt;</code>表示合并到当前数据。</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">defaults:</span> <span class="meta">&amp;defaults</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_development</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br><span class="line"><span class="comment"># 等价于</span></span><br><span class="line"><span class="attr">defaults:</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br><span class="line"><span class="attr">development:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">myapp_development</span></span><br><span class="line">  <span class="attr">adapter:</span>  <span class="string">postgres</span></span><br><span class="line">  <span class="attr">host:</span>     <span class="string">localhost</span></span><br><span class="line"><span class="comment"># 锚点</span></span><br><span class="line"><span class="attr">hr:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Mark</span> <span class="string">McGwire</span></span><br><span class="line">  <span class="comment"># Following node labeled SS</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&amp;SS</span> <span class="string">Sammy</span> <span class="string">Sosa</span></span><br><span class="line"><span class="attr">rbi:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">*SS</span> <span class="comment"># Subsequent occurrence</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">Ken</span> <span class="string">Griffey</span></span><br></pre></td></tr></table></figure>
<h1 id="python解析yaml"><a class="markdownIt-Anchor" href="#python解析yaml"></a> python解析yaml</h1>
<ul>
<li>更多操作可参考<a target="_blank" rel="noopener" href="https://pyyaml.org/wiki/PyYAMLDocumentation">pyyaml官方文档</a></li>
</ul>
<table>
<thead>
<tr>
<th>操作</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>安装</td>
<td><code>pip3 install pyyaml</code></td>
</tr>
<tr>
<td>load</td>
<td><code>yaml.load()</code><br><code>yaml.safe_load(YAML字符串或文件句柄)</code></td>
</tr>
<tr>
<td>dump</td>
<td><code>yaml.dump</code>(字典)：默认为flow流格式，即字典{b’: {‘c’: 3, ‘d’: 4}}，会被转为b: {c: 3, d: 4}形式，可以使用default_flow_style=False关闭流模式</td>
</tr>
</tbody>
</table>
<ul>
<li>由于yaml.load()支持原生Python对象，不安全，建议使用yaml.safe_load()</li>
</ul>
<h2 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h2>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> yaml</span><br><span class="line">yaml_str = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">name: Cactus</span></span><br><span class="line"><span class="string">age: 18</span></span><br><span class="line"><span class="string">skills: </span></span><br><span class="line"><span class="string">  -</span></span><br><span class="line"><span class="string">    - Python</span></span><br><span class="line"><span class="string">    - 3</span></span><br><span class="line"><span class="string">  -</span></span><br><span class="line"><span class="string">    - Java</span></span><br><span class="line"><span class="string">    - 5</span></span><br><span class="line"><span class="string">has_blog: true</span></span><br><span class="line"><span class="string">gf: ~</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">dict_var = &#123;<span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;Cactus&#x27;</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>, <span class="string">&#x27;skills&#x27;</span>: [[<span class="string">&#x27;Python&#x27;</span>, <span class="number">3</span>], [<span class="string">&#x27;Java&#x27;</span>, <span class="number">5</span>]], <span class="string">&#x27;has_blog&#x27;</span>: <span class="literal">True</span>, <span class="string">&#x27;gf&#x27;</span>: <span class="literal">None</span>&#125;</span><br><span class="line"><span class="comment"># yaml字符串 -&gt; 字典</span></span><br><span class="line">print(yaml.safe_load(yaml_str)) </span><br><span class="line"><span class="comment"># yaml文件 -&gt; 字典</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;demo.yaml&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:   <span class="comment"># demo.yaml内容同上例yaml字符串 </span></span><br><span class="line">    print(yaml.safe_load(f))</span><br><span class="line"><span class="comment"># 字典 -&gt; yaml字符串或文件</span></span><br><span class="line">print(yaml.dump(dict_var,))  <span class="comment"># 转为字符串，使用默认flow流格式</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">&#x27;demo5.yaml&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    yaml.dump(dict_var, f, default_flow_style=<span class="literal">False</span>)  <span class="comment"># 写入文件，不是用flow流格式</span></span><br></pre></td></tr></table></figure><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css"></div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/07/15/python%E5%BA%93%E6%95%B4%E7%90%86/"><i class="fa fa-chevron-left">  </i><span>python库整理</span></a></div><div class="next-post pull-right"><a href="/2020/07/13/C/"><span>C++</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="vcomment"></div><script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = 'false' == 'true';
var verify = 'false' == 'true';
var record_ip = '' == 'true';
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  recordIP:record_ip,
  appId:'AdfkiqY89QUSUWbDY9xJuCh0-gzGzoHsz',
  appKey:'2cEvHcqEWsyoKwy4AUL3kPGh',
  placeholder:'劈个叉吧',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'100',
  lang: 'zh-cn'
})</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2020 - 2021 By hero576</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.8.2"></script><script src="/js/fancybox.js?version=1.8.2"></script><script src="/js/sidebar.js?version=1.8.2"></script><script src="/js/copy.js?version=1.8.2"></script><script src="/js/fireworks.js?version=1.8.2"></script><script src="/js/transition.js?version=1.8.2"></script><script src="/js/scroll.js?version=1.8.2"></script><script src="/js/head.js?version=1.8.2"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>