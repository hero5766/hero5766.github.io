<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="pangolin"><meta name="keywords" content="robotic"><meta name="author" content="hero576"><meta name="copyright" content="hero576"><title>pangolin | void land space</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.8.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.8.2"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?5ff8fca367285c16c6dd5c16ca2ccc1b";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script src="https://v1.hitokoto.cn/?encode=js&amp;charset=utf-8&amp;select=.footer_custom_text" defer></script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '5.0.2'
} </script><meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="void land space" type="application/atom+xml">
</head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text"> 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text"> 介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%80%A7"><span class="toc-number">1.2.</span> <span class="toc-text"> 特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.3.</span> <span class="toc-text"> 安装</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text"> 使用</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B"><span class="toc-number">2.1.</span> <span class="toc-text"> 类型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text"> 方法</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text"> 示例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8"><span class="toc-number">3.1.</span> <span class="toc-text"> 简单使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">3.2.</span> <span class="toc-text"> 多线程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BApangolin%E6%B7%BB%E5%8A%A0%E6%8E%A7%E4%BB%B6"><span class="toc-number">3.3.</span> <span class="toc-text"> 为Pangolin添加控件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A7%86%E5%9B%BE%E4%B8%8E%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA"><span class="toc-number">3.4.</span> <span class="toc-text"> 多视图与图片显示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pangolin%E7%BB%98%E5%88%B6%E6%95%B0%E6%8D%AE%E6%9B%B2%E7%BA%BF"><span class="toc-number">3.5.</span> <span class="toc-text"> pangolin绘制数据曲线</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/images/haimianbaobao.jpg"></div><div class="author-info__name text-center">hero576</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">57</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">13</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">5</span></a></div></div></div><div id="content-outer"><div class="plain" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">void land space</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">主页</a><a class="site-page" href="/archives">文章</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/gallery">相册</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div></div><div class="layout" id="content-inner"><article id="post"><div class="plain" id="post-title">pangolin</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2020-10-25</time><span class="post-meta__separator">|</span><i class="fa fa-inbox" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/programme/"> programme</a></div><div class="article-container" id="post-content"><blockquote>
<p>pangolin用于图形可视化</p>
</blockquote>
<a id="more"></a>
<h1 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h1>
<h2 id="介绍"><a class="markdownIt-Anchor" href="#介绍"></a> 介绍</h2>
<ul>
<li>Pangolin是对OpenGL进行封装的轻量级的OpenGL输入/输出和视频显示的库。可以用于3D视觉和3D导航的视觉图，可以输入各种类型的视频、并且可以保留视频和输入数据用于debug。</li>
</ul>
<h2 id="特性"><a class="markdownIt-Anchor" href="#特性"></a> 特性</h2>
<ul>
<li>在<a target="_blank" rel="noopener" href="http://www.stevenlovegrove.com/?id=44">官方地址</a>里面，对Pangolin有一个大致的介绍：
<ul>
<li>管理OpenGL的视角：画出想要的3D图。可以根据自己的需要调整视角。</li>
<li>高级的3D handler： Pangolin可以让你从很多视角看3D图，甚至可以搞一个model matrix。对3D点进行旋转平移。</li>
<li>输入控制：很多类型都可以（linear / log scale, runtime adjustable resolution, custom data types, …）</li>
<li>视频输入：调用了libDC1394和V4L进行视频流的输入，Pangolin提供了简单的C++接口给这些资源。可以使用图片、usb的摄像头输入、视频流、网络流等等都可以。</li>
<li>动态画图工具，可以处理科学数据。可以支持多种视图（time-series, parametric, cumulative, …）</li>
<li>记录视频和输入数据，可以用于debug。</li>
</ul>
</li>
</ul>
<h2 id="安装"><a class="markdownIt-Anchor" href="#安装"></a> 安装</h2>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/stevenlovegrove/Pangolin</span><br><span class="line"><span class="built_in">cd</span> Pangolin</span><br><span class="line">mkdir build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake -DCPP11_NO_BOOST=1 ..</span><br><span class="line">make -j</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.cnblogs.com/liufuqiang/p/5618335.html">安装问题</a></li>
</ul>
<h1 id="使用"><a class="markdownIt-Anchor" href="#使用"></a> 使用</h1>
<ul>
<li>
<p>一个是看<a target="_blank" rel="noopener" href="https://github.com/stevenlovegrove/Pangolin/tree/master/examples">Example</a>，另外一个可以看<a target="_blank" rel="noopener" href="http://docs.ros.org/fuerte/api/pangolin_wrapper/html/namespacepangolin.html">ros网站的介绍</a>。</p>
</li>
<li>
<p>这里总结了<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43991178/article/details/105119610">博客yuntian_li</a>中对Pangolin的使用方法</p>
</li>
</ul>
<h2 id="类型"><a class="markdownIt-Anchor" href="#类型"></a> 类型</h2>
<table>
<thead>
<tr>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody></tbody>
</table>
<h2 id="方法"><a class="markdownIt-Anchor" href="#方法"></a> 方法</h2>
<p>方法|代码|说明<br />
-|-<br />
创建视窗对象|<code>pangolin::CreateWindowAndBind(&quot;Main&quot;,640,480);</code>|创建名称为“Main”的GUI窗口，尺寸为640×640<br />
启动深度测试|<code>glEnable(GL_DEPTH_TEST);</code>|该功能会使得pangolin只会绘制朝向镜头的那一面像素点，避免容易混淆的透视关系出现，因此在任何3D可视化中都应该开启该功能<br />
创建观察相机视图|<code>pangolin::OpenGlRenderState s_cam(pangolin::ProjectionMatrix(640,480,420,420,320,320,0.2,100),pangolin::ModelViewLookAt(2,0,2, 0,0,0, pangolin::AxisY));</code> |在视图中放置摄像机，在视窗中“放置”一个摄像机，给出摄像机的内参矩阵ProjectionMatrix从而在我们对摄像机进行交互操作时，Pangolin会自动根据内参矩阵完成对应的透视变换。此外，我们还需要给出摄像机初始时刻所处的位置，摄像机的视点位置（即摄像机的光轴朝向哪一个点）以及摄像机的本身哪一轴朝上。ProjectionMatrix的参数依次为<br>观察相机的图像高度<br>宽度<br>4个内参<br>最近和最远视距<br>ModelViewLookAt的参数依次为<br>相机所在的位置<br>相机所看的视点位置(一般会设置在原点)<br />
创建交互视图|<code>pangolin::Handler3D handler(s_cam);</code><br><code>pangolin::View&amp; d_cam = pangolin::CreateDisplay().SetBounds(0.0, 1.0, 0.0, 1.0, -640.0f/480.0f).SetHandler(&amp;handler);</code>|创建一个交互式视图（view）用于显示上一步摄像机所“拍摄”到的内容，这一步类似于OpenGL中的viewport处理。setBounds()函数前四个参数依次表示视图在视窗中的范围（下、上、左、右），可以采用相对坐标（0~1）以及绝对坐标（使用Attach对象）。<br />
清空颜色和深度缓存|<code>glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</code>|分别清空色彩缓存和深度缓存并激活之前设定好的视窗对象（否则视窗内会保留上一帧的图形，这种“多重曝光”效果通常并不是我们需要的）<br />
激活交互视图|<code>d_cam.Activate(s_cam);</code>|<br />
绘制一个立方体|<code>pangolin::glDrawColouredCube();</code>|在原点绘制一个立方体<br />
gl绘制|<code>glLineWidth(3);</code><br><code>glBegin ( GL_LINES );</code><br><code>glColor3f ( 0.8f,0.f,0.f );</code><br><code>glVertex3f( -1,-1,-1 );</code><br><code>glVertex3f( 0,-1,-1 );</code><br><code>glEnd();</code>|<br />
帧循环|<code>pangolin::FinishFrame();</code>|运行帧循环以推进窗口事件<br />
创建右侧用于显示视图视口|<code>pangolin::View&amp; d_cam = pangolin::CreateDisplay().SetBounds(0.0, 1.0, pangolin::Attach::Pix(UI_WIDTH), 1.0, -640.0f/480.0f).SetHandler(new pangolin::Handler3D(s_cam));</code>|<br />
创建左侧用于创建控制面板|<code>pangolin::CreatePanel(&quot;ui&quot;).SetBounds(0.0, 1.0, 0.0, pangolin::Attach::Pix(UI_WIDTH));</code>|创建一个面板，并给这个面板明明为“ui”，这里&quot;ui&quot;是面板的tag名称，后续所有控制的操作都通过这个tag绑定到对应的面板上<br />
创建控制面板的控件对象|<code>pangolin::Var&lt;bool&gt; A_Button(&quot;ui.a_button&quot;, false, false); // 按钮</code><br><code>pangolin::Var&lt;double&gt; Double_Slider(&quot;ui.a_slider&quot;, 3, 0, 5); //double滑条</code><br><code>pangolin::Var&lt;int&gt; Int_Slider(&quot;ui.b_slider&quot;, 2, 0, 5); //int滑条</code><br><code>pangolin::Var&lt;std::string&gt; A_string(&quot;ui.a_string&quot;, &quot;Hello Pangolin&quot;);</code><br><code>pangolin::Var&lt;std::function&lt;void()&gt;&gt; reset(&quot;ui.Reset&quot;, SampleMethod);//</code>|创建参数依次为控件的tag、初始值以及是否可以toggle。<br>这一类Var对象为常见的滑条对象，创建参数依次为控件tag、初始值、最小值、最大值和logscale。<br>这一类控件同样实现按钮控件的功能，只是其在创建时传入一个std::function函数对象，因此不需要在后续循环中进行回调函数的书写。<br />
判断状态|<code>pangolin::Pushed(A_Button)</code></p>
<h1 id="示例"><a class="markdownIt-Anchor" href="#示例"></a> 示例</h1>
<h2 id="简单使用"><a class="markdownIt-Anchor" href="#简单使用"></a> 简单使用</h2>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pangolin/pangolin.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">int</span> <span class="comment">/*argc*/</span>, <span class="keyword">char</span>** <span class="comment">/*argv*/</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// 创建名称为“Main”的GUI窗口，尺寸为640×640</span></span><br><span class="line">    pangolin::CreateWindowAndBind(<span class="string">&quot;Main&quot;</span>,<span class="number">640</span>,<span class="number">480</span>);</span><br><span class="line">    <span class="comment">// 启动深度测试</span></span><br><span class="line">    glEnable(GL_DEPTH_TEST);</span><br><span class="line">    <span class="comment">// 创建一个观察相机视图</span></span><br><span class="line">    <span class="function">pangolin::OpenGlRenderState <span class="title">s_cam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ProjectionMatrix(<span class="number">640</span>,<span class="number">480</span>,<span class="number">420</span>,<span class="number">420</span>,<span class="number">320</span>,<span class="number">320</span>,<span class="number">0.2</span>,<span class="number">100</span>),</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ModelViewLookAt(<span class="number">2</span>,<span class="number">0</span>,<span class="number">2</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, pangolin::AxisY)</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span></span>;</span><br><span class="line">    <span class="comment">// 创建交互视图</span></span><br><span class="line">    <span class="function">pangolin::Handler3D <span class="title">handler</span><span class="params">(s_cam)</span></span>; <span class="comment">//交互相机视图句柄</span></span><br><span class="line">    pangolin::View&amp; d_cam = pangolin::CreateDisplay()</span><br><span class="line">            .SetBounds(<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">-640.0f</span>/<span class="number">480.0f</span>)</span><br><span class="line">            .SetHandler(&amp;handler);</span><br><span class="line">    <span class="keyword">while</span>( !pangolin::ShouldQuit() )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 清空颜色和深度缓存</span></span><br><span class="line">        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</span><br><span class="line">        d_cam.Activate(s_cam);</span><br><span class="line">        <span class="comment">// 在原点绘制一个立方体</span></span><br><span class="line">        pangolin::glDrawColouredCube();</span><br><span class="line">        <span class="comment">// 绘制坐标系</span></span><br><span class="line">       	glLineWidth(<span class="number">3</span>);</span><br><span class="line">        glBegin ( GL_LINES );</span><br><span class="line">	    glColor3f ( <span class="number">0.8f</span>,<span class="number">0.f</span>,<span class="number">0.f</span> );</span><br><span class="line">	    glVertex3f( <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> );</span><br><span class="line">	    glVertex3f( <span class="number">0</span>,<span class="number">-1</span>,<span class="number">-1</span> );</span><br><span class="line">	    glColor3f( <span class="number">0.f</span>,<span class="number">0.8f</span>,<span class="number">0.f</span>);</span><br><span class="line">	    glVertex3f( <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> );</span><br><span class="line">	    glVertex3f( <span class="number">-1</span>,<span class="number">0</span>,<span class="number">-1</span> );</span><br><span class="line">	    glColor3f( <span class="number">0.2f</span>,<span class="number">0.2f</span>,<span class="number">1.f</span>);</span><br><span class="line">	    glVertex3f( <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">-1</span> );</span><br><span class="line">	    glVertex3f( <span class="number">-1</span>,<span class="number">-1</span>,<span class="number">0</span> );</span><br><span class="line">	    glEnd();</span><br><span class="line">        <span class="comment">// 运行帧循环以推进窗口事件</span></span><br><span class="line">        pangolin::FinishFrame();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="多线程"><a class="markdownIt-Anchor" href="#多线程"></a> 多线程</h2>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pangolin/pangolin.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;thread&gt;</span></span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">const</span> <span class="built_in">std</span>::<span class="built_in">string</span> window_name = <span class="string">&quot;HelloPangolinThreads&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// create a window and bind its context to the main thread</span></span><br><span class="line">    pangolin::CreateWindowAndBind(window_name, <span class="number">640</span>, <span class="number">480</span>);</span><br><span class="line">    <span class="comment">// enable depth</span></span><br><span class="line">    glEnable(GL_DEPTH_TEST);</span><br><span class="line">    <span class="comment">// unset the current context from the main thread</span></span><br><span class="line">    pangolin::GetBoundWindow()-&gt;RemoveCurrent();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在多线程版本的HelloPangolin中，我们首先利用setup()函数创建了一个视窗用于后续的显示，但这个视窗实在主线程中创建的，因此在主线程调用玩后，需要使用GetBoundWindow()-&gt;RemoveCurrent()将其解绑。</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">// fetch the context and bind it to this thread</span></span><br><span class="line">    pangolin::BindToContext(window_name);</span><br><span class="line">    <span class="comment">// we manually need to restore the properties of the context</span></span><br><span class="line">    glEnable(GL_DEPTH_TEST);</span><br><span class="line">    <span class="comment">// Define Projection and initial ModelView matrix</span></span><br><span class="line">    <span class="function">pangolin::OpenGlRenderState <span class="title">s_cam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ProjectionMatrix(<span class="number">640</span>,<span class="number">480</span>,<span class="number">420</span>,<span class="number">420</span>,<span class="number">320</span>,<span class="number">240</span>,<span class="number">0.2</span>,<span class="number">100</span>),</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ModelViewLookAt(<span class="number">-2</span>,<span class="number">2</span>,<span class="number">-2</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, pangolin::AxisY)</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span></span>;</span><br><span class="line">    <span class="comment">// Create Interactive View in window</span></span><br><span class="line">    <span class="function">pangolin::Handler3D <span class="title">handler</span><span class="params">(s_cam)</span></span>;</span><br><span class="line">    pangolin::View&amp; d_cam = pangolin::CreateDisplay()</span><br><span class="line">            .SetBounds(<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">-640.0f</span>/<span class="number">480.0f</span>)</span><br><span class="line">            .SetHandler(&amp;handler);</span><br><span class="line">    <span class="keyword">while</span>( !pangolin::ShouldQuit() )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Clear screen and activate view to render into</span></span><br><span class="line">        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</span><br><span class="line">        d_cam.Activate(s_cam);</span><br><span class="line">        <span class="comment">// Render OpenGL Cube</span></span><br><span class="line">        pangolin::glDrawColouredCube();</span><br><span class="line">        <span class="comment">// Swap frames and Process Events</span></span><br><span class="line">        pangolin::FinishFrame();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// unset the current context from the main thread</span></span><br><span class="line">    pangolin::GetBoundWindow()-&gt;RemoveCurrent();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">( <span class="keyword">int</span> <span class="comment">/*argc*/</span>, <span class="keyword">char</span>** <span class="comment">/*argv*/</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// create window and context in the main thread</span></span><br><span class="line">    setup();</span><br><span class="line">    <span class="comment">// use the context in a separate rendering thread</span></span><br><span class="line">    <span class="built_in">std</span>::thread render_loop;</span><br><span class="line">    render_loop = <span class="built_in">std</span>::thread(run);</span><br><span class="line">    render_loop.join();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//随后，我们新开一个线程，运行我们的run()函数，在run()函数中，我们首先使用BindToContext()函数将之前解绑的视窗绑定到当前线程，随后需要重新设置视窗的属性（即启动深度测试）；同样，在线程结束时，我们需要解绑视窗。其余部分的代码则与task1完全一致。</span></span><br></pre></td></tr></table></figure>
<h2 id="为pangolin添加控件"><a class="markdownIt-Anchor" href="#为pangolin添加控件"></a> 为Pangolin添加控件</h2>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pangolin/pangolin.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SampleMethod</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;You typed ctrl-r or pushed reset&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Window width: &quot;</span> &lt;&lt; i &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="comment">/*int argc, char* argv[]*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="comment">// 创建视窗</span></span><br><span class="line">    pangolin::CreateWindowAndBind(<span class="string">&quot;Main&quot;</span>,<span class="number">640</span>,<span class="number">480</span>);</span><br><span class="line">    <span class="comment">// 启动深度测试</span></span><br><span class="line">    glEnable(GL_DEPTH_TEST);</span><br><span class="line">    <span class="comment">// 创建一个摄像机</span></span><br><span class="line">    <span class="function">pangolin::OpenGlRenderState <span class="title">s_cam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ProjectionMatrix(<span class="number">640</span>,<span class="number">480</span>,<span class="number">420</span>,<span class="number">420</span>,<span class="number">320</span>,<span class="number">240</span>,<span class="number">0.1</span>,<span class="number">1000</span>),</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ModelViewLookAt(<span class="number">-0</span>,<span class="number">0.5</span>,<span class="number">-3</span>, <span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, pangolin::AxisY)</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span></span>;</span><br><span class="line">    <span class="comment">// 分割视窗</span></span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> UI_WIDTH = <span class="number">180</span>;</span><br><span class="line">    <span class="comment">// 右侧用于显示视口</span></span><br><span class="line">    pangolin::View&amp; d_cam = pangolin::CreateDisplay()</span><br><span class="line">        .SetBounds(<span class="number">0.0</span>, <span class="number">1.0</span>, pangolin::Attach::Pix(UI_WIDTH), <span class="number">1.0</span>, <span class="number">-640.0f</span>/<span class="number">480.0f</span>)</span><br><span class="line">        .SetHandler(<span class="keyword">new</span> pangolin::Handler3D(s_cam));</span><br><span class="line">    <span class="comment">// 左侧用于创建控制面板</span></span><br><span class="line">    pangolin::CreatePanel(<span class="string">&quot;ui&quot;</span>)</span><br><span class="line">        .SetBounds(<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>, pangolin::Attach::Pix(UI_WIDTH));</span><br><span class="line">    <span class="comment">// 创建控制面板的控件对象，pangolin中</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">bool</span>&gt; <span class="title">A_Button</span><span class="params">(<span class="string">&quot;ui.a_button&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>)</span></span>;  <span class="comment">// 按钮</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">bool</span>&gt; <span class="title">A_Checkbox</span><span class="params">(<span class="string">&quot;ui.a_checkbox&quot;</span>, <span class="literal">false</span>, <span class="literal">true</span>)</span></span>; <span class="comment">// 选框</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">double</span>&gt; <span class="title">Double_Slider</span><span class="params">(<span class="string">&quot;ui.a_slider&quot;</span>, <span class="number">3</span>, <span class="number">0</span>, <span class="number">5</span>)</span></span>; <span class="comment">//double滑条</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">int</span>&gt; <span class="title">Int_Slider</span><span class="params">(<span class="string">&quot;ui.b_slider&quot;</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">5</span>)</span></span>; <span class="comment">//int滑条</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; <span class="title">A_string</span><span class="params">(<span class="string">&quot;ui.a_string&quot;</span>, <span class="string">&quot;Hello Pangolin&quot;</span>)</span></span>;</span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">bool</span>&gt; <span class="title">SAVE_IMG</span><span class="params">(<span class="string">&quot;ui.save_img&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>)</span></span>;  <span class="comment">// 按钮</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">bool</span>&gt; <span class="title">SAVE_WIN</span><span class="params">(<span class="string">&quot;ui.save_win&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>)</span></span>; <span class="comment">// 按钮</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="keyword">bool</span>&gt; <span class="title">RECORD_WIN</span><span class="params">(<span class="string">&quot;ui.record_win&quot;</span>, <span class="literal">false</span>, <span class="literal">false</span>)</span></span>; <span class="comment">// 按钮</span></span><br><span class="line">    <span class="function">pangolin::Var&lt;<span class="built_in">std</span>::function&lt;<span class="title">void</span><span class="params">()</span>&gt;&gt; <span class="title">reset</span><span class="params">(<span class="string">&quot;ui.Reset&quot;</span>, SampleMethod)</span></span>;<span class="comment">// </span></span><br><span class="line">    <span class="comment">// 绑定键盘快捷键</span></span><br><span class="line">    <span class="comment">// Demonstration of how we can register a keyboard hook to alter a Var</span></span><br><span class="line">    pangolin::RegisterKeyPressCallback(pangolin::PANGO_CTRL + <span class="string">&#x27;b&#x27;</span>, pangolin::SetVarFunctor&lt;<span class="keyword">double</span>&gt;(<span class="string">&quot;ui.a_slider&quot;</span>, <span class="number">3.5</span>));</span><br><span class="line">    <span class="comment">// Demonstration of how we can register a keyboard hook to trigger a method</span></span><br><span class="line">    pangolin::RegisterKeyPressCallback(pangolin::PANGO_CTRL + <span class="string">&#x27;r&#x27;</span>, SampleMethod);</span><br><span class="line">    <span class="comment">// Default hooks for exiting (Esc) and fullscreen (tab).</span></span><br><span class="line">    <span class="keyword">while</span>( !pangolin::ShouldQuit() )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// Clear entire screen</span></span><br><span class="line">        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);    </span><br><span class="line">        <span class="comment">// 各控件的回调函数</span></span><br><span class="line">        <span class="keyword">if</span>(pangolin::Pushed(A_Button))</span><br><span class="line">            <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;Push button A.&quot;</span> &lt;&lt; <span class="built_in">std</span>::<span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">if</span>(A_Checkbox)</span><br><span class="line">            Int_Slider = Double_Slider;</span><br><span class="line">        <span class="comment">// 保存整个win</span></span><br><span class="line">        <span class="keyword">if</span>( pangolin::Pushed(SAVE_WIN) )</span><br><span class="line">        pangolin::SaveWindowOnRender(<span class="string">&quot;window&quot;</span>);</span><br><span class="line">		<span class="comment">// 保存view</span></span><br><span class="line">        <span class="keyword">if</span>( pangolin::Pushed(SAVE_IMG) )</span><br><span class="line">        d_cam.SaveOnRender(<span class="string">&quot;cube&quot;</span>);</span><br><span class="line">		<span class="comment">// 录像</span></span><br><span class="line">        <span class="keyword">if</span>( pangolin::Pushed(RECORD_WIN) )</span><br><span class="line">        pangolin::DisplayBase().RecordOnRender(<span class="string">&quot;ffmpeg:[fps=50,bps=8388608,unique_filename]//screencap.avi&quot;</span>);</span><br><span class="line">        d_cam.Activate(s_cam);</span><br><span class="line">        <span class="comment">// glColor3f(1.0,0.0,1.0);</span></span><br><span class="line">        pangolin::glDrawColouredCube();</span><br><span class="line">        <span class="comment">// Swap frames and Process Events</span></span><br><span class="line">        pangolin::FinishFrame();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="多视图与图片显示"><a class="markdownIt-Anchor" href="#多视图与图片显示"></a> 多视图与图片显示</h2>
<ul>
<li>在SLAM的可视化中，有时我们期望实时显示相机的图像和特征点跟踪情况（例如VINS-Mono），pangolin同样提供了用于显示图像的一系列功能，下面的代码分别在视窗左上角和右下角实时显示了EuRoc数据集中的图像：</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;opencv2/opencv.hpp&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pangolin/pangolin.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>** argv)</span></span>&#123;</span><br><span class="line">    <span class="comment">// 创建视窗</span></span><br><span class="line">    pangolin::CreateWindowAndBind(<span class="string">&quot;MultiImage&quot;</span>, <span class="number">752</span>, <span class="number">480</span>);</span><br><span class="line">    <span class="comment">// 启动深度测试</span></span><br><span class="line">    glEnable(GL_DEPTH_TEST);</span><br><span class="line">    <span class="comment">// 设置摄像机</span></span><br><span class="line">    <span class="function">pangolin::OpenGlRenderState <span class="title">s_cam</span><span class="params">(</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ProjectionMatrix(<span class="number">752</span>, <span class="number">480</span>, <span class="number">420</span>, <span class="number">420</span>, <span class="number">320</span>, <span class="number">320</span>, <span class="number">0.1</span>, <span class="number">1000</span>),</span></span></span><br><span class="line"><span class="function"><span class="params">        pangolin::ModelViewLookAt(<span class="number">-2</span>, <span class="number">0</span>, <span class="number">-2</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, pangolin::AxisY)</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span></span>;</span><br><span class="line">    <span class="comment">// ---------- 创建三个视图 ---------- //</span></span><br><span class="line">    pangolin::View&amp; d_cam = pangolin::Display(<span class="string">&quot;cam&quot;</span>).SetBounds(<span class="number">0.</span>, <span class="number">1.</span>, <span class="number">0.</span>, <span class="number">1.</span>, <span class="number">-752</span>/<span class="number">480.</span>).SetHandler(<span class="keyword">new</span> pangolin::Handler3D(s_cam));</span><br><span class="line">    pangolin::View&amp; cv_img_1 = pangolin::Display(<span class="string">&quot;image_1&quot;</span>).SetBounds(<span class="number">2</span>/<span class="number">3.0f</span>, <span class="number">1.0f</span>, <span class="number">0.</span>, <span class="number">1</span>/<span class="number">3.0f</span>, <span class="number">752</span>/<span class="number">480.</span>).SetLock(pangolin::LockLeft, pangolin::LockTop);</span><br><span class="line">    pangolin::View&amp; cv_img_2 = pangolin::Display(<span class="string">&quot;image_2&quot;</span>).SetBounds(<span class="number">0.</span>, <span class="number">1</span>/<span class="number">3.0f</span>, <span class="number">2</span>/<span class="number">3.0f</span>, <span class="number">1.0</span>, <span class="number">752</span>/<span class="number">480.</span>).SetLock(pangolin::LockRight, pangolin::LockBottom);</span><br><span class="line">    <span class="comment">// 创建glTexture容器用于读取图像</span></span><br><span class="line">    <span class="function">pangolin::GlTexture <span class="title">imgTexture1</span><span class="params">(<span class="number">752</span>, <span class="number">480</span>, GL_RGB, <span class="literal">false</span>, <span class="number">0</span>, GL_BGR, GL_UNSIGNED_BYTE)</span></span>;</span><br><span class="line">    <span class="function">pangolin::GlTexture <span class="title">imgTexture2</span><span class="params">(<span class="number">752</span>, <span class="number">480</span>, GL_RGB, <span class="literal">false</span>, <span class="number">0</span>, GL_BGR, GL_UNSIGNED_BYTE)</span></span>;</span><br><span class="line">    <span class="keyword">while</span>(!pangolin::ShouldQuit())&#123;</span><br><span class="line">        <span class="comment">// 清空颜色和深度缓存</span></span><br><span class="line">        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</span><br><span class="line">        <span class="comment">// 启动相机</span></span><br><span class="line">        d_cam.Activate(s_cam);</span><br><span class="line">        <span class="comment">// 添加一个立方体</span></span><br><span class="line">        glColor3f(<span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>);</span><br><span class="line">        pangolin::glDrawColouredCube();</span><br><span class="line">        <span class="comment">// 从文件读取图像</span></span><br><span class="line">        cv::Mat img1 = cv::imread(<span class="string">&quot;../task4/img/img1.png&quot;</span>);</span><br><span class="line">        cv::Mat img2 = cv::imread(<span class="string">&quot;../task4/img/img2.png&quot;</span>);</span><br><span class="line">        <span class="comment">// 向GPU装载图像</span></span><br><span class="line">        imgTexture1.Upload(img1.data, GL_BGR, GL_UNSIGNED_BYTE);</span><br><span class="line">        imgTexture2.Upload(img2.data, GL_BGR, GL_UNSIGNED_BYTE);</span><br><span class="line">        <span class="comment">// 显示图像</span></span><br><span class="line">        cv_img_1.Activate();</span><br><span class="line">        glColor3f(<span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>); <span class="comment">// 设置默认背景色，对于显示图片来说，不设置也没关系</span></span><br><span class="line">        imgTexture1.RenderToViewportFlipY(); <span class="comment">// 需要反转Y轴，否则输出是倒着的</span></span><br><span class="line">        cv_img_2.Activate();</span><br><span class="line">        glColor3f(<span class="number">1.0f</span>, <span class="number">1.0f</span>, <span class="number">1.0f</span>); <span class="comment">// 设置默认背景色，对于显示图片来说，不设置也没关系</span></span><br><span class="line">        imgTexture2.RenderToViewportFlipY();</span><br><span class="line">        pangolin::FinishFrame();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="pangolin绘制数据曲线"><a class="markdownIt-Anchor" href="#pangolin绘制数据曲线"></a> pangolin绘制数据曲线</h2>
<ul>
<li>使用pangolin绘制函数曲线，在本例中，我们将在一个视图中分别绘制sin ⁡ ( x ) \sin(x)sin(x)、cos ⁡ ( x ) \cos(x)cos(x)以及sin ⁡ ( x ) + cos ⁡ ( x ) \sin(x)+\cos(x)sin(x)+cos(x)的曲线，代码如下</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;pangolin/pangolin.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="comment">/*int argc, char* argv[]*/</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="comment">// Create OpenGL window in single line</span></span><br><span class="line">  pangolin::CreateWindowAndBind(<span class="string">&quot;Main&quot;</span>,<span class="number">640</span>,<span class="number">480</span>);</span><br><span class="line">  <span class="comment">// Data logger object</span></span><br><span class="line">  pangolin::DataLog <span class="built_in">log</span>;</span><br><span class="line">  <span class="comment">// Optionally add named labels</span></span><br><span class="line">  <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>&gt; labels;</span><br><span class="line">  labels.push_back(<span class="built_in">std</span>::<span class="built_in">string</span>(<span class="string">&quot;sin(t)&quot;</span>));</span><br><span class="line">  labels.push_back(<span class="built_in">std</span>::<span class="built_in">string</span>(<span class="string">&quot;cos(t)&quot;</span>));</span><br><span class="line">  labels.push_back(<span class="built_in">std</span>::<span class="built_in">string</span>(<span class="string">&quot;sin(t)+cos(t)&quot;</span>));</span><br><span class="line">  <span class="built_in">log</span>.SetLabels(labels);</span><br><span class="line">  <span class="keyword">const</span> <span class="keyword">float</span> tinc = <span class="number">0.01f</span>;</span><br><span class="line">  <span class="comment">// OpenGL &#x27;view&#x27; of data. We might have many views of the same data.</span></span><br><span class="line">  <span class="function">pangolin::Plotter <span class="title">plotter</span><span class="params">(&amp;<span class="built_in">log</span>,<span class="number">0.0f</span>,<span class="number">4.0f</span>*(<span class="keyword">float</span>)M_PI/tinc,<span class="number">-4.0f</span>,<span class="number">4.0f</span>,(<span class="keyword">float</span>)M_PI/(<span class="number">4.0f</span>*tinc),<span class="number">0.5f</span>)</span></span>;</span><br><span class="line">  plotter.SetBounds(<span class="number">0.0</span>, <span class="number">1.0</span>, <span class="number">0.0</span>, <span class="number">1.0</span>);</span><br><span class="line">  plotter.Track(<span class="string">&quot;$i&quot;</span>);<span class="comment">//坐标轴自动滚动</span></span><br><span class="line">  <span class="comment">// Add some sample annotations to the plot（为区域着色）</span></span><br><span class="line">  plotter.AddMarker(pangolin::Marker::Vertical,   <span class="number">50</span>*M_PI, pangolin::Marker::LessThan, pangolin::Colour::Blue().WithAlpha(<span class="number">0.2f</span>) );</span><br><span class="line">  plotter.AddMarker(pangolin::Marker::Horizontal,   <span class="number">3</span>, pangolin::Marker::GreaterThan, pangolin::Colour::Red().WithAlpha(<span class="number">0.2f</span>) );</span><br><span class="line">  plotter.AddMarker(pangolin::Marker::Horizontal,    <span class="number">3</span>, pangolin::Marker::Equal, pangolin::Colour::Green().WithAlpha(<span class="number">0.2f</span>) );</span><br><span class="line">  pangolin::DisplayBase().AddDisplay(plotter);</span><br><span class="line">  <span class="keyword">float</span> t = <span class="number">0</span>;</span><br><span class="line">  <span class="comment">// Default hooks for exiting (Esc) and fullscreen (tab).</span></span><br><span class="line">  <span class="keyword">while</span>( !pangolin::ShouldQuit() )</span><br><span class="line">  &#123;</span><br><span class="line">    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</span><br><span class="line">    <span class="built_in">log</span>.Log(<span class="built_in">sin</span>(t),<span class="built_in">cos</span>(t),<span class="built_in">sin</span>(t)+<span class="built_in">cos</span>(t));</span><br><span class="line">    t += tinc;</span><br><span class="line">    <span class="comment">// Render graph, Swap frames and Process Events</span></span><br><span class="line">    pangolin::FinishFrame();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kity@2.0.4/dist/kity.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text/javascript" src="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-simple-mindmap@0.2.0/dist/mindmap.min.css"></div></article><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/robotic/">robotic</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2020/10/25/g2o/"><i class="fa fa-chevron-left">  </i><span>g2o</span></a></div><div class="next-post pull-right"><a href="/2020/10/23/ROS/"><span>ROS</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="vcomment"></div><script src="https://cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js"></script><script>var notify = 'false' == 'true';
var verify = 'false' == 'true';
var record_ip = '' == 'true';
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify,
  verify:verify,
  recordIP:record_ip,
  appId:'AdfkiqY89QUSUWbDY9xJuCh0-gzGzoHsz',
  appKey:'2cEvHcqEWsyoKwy4AUL3kPGh',
  placeholder:'劈个叉吧',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'100',
  lang: 'zh-cn'
})</script></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2020 By hero576</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">hitokoto</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.8.2"></script><script src="/js/fancybox.js?version=1.8.2"></script><script src="/js/sidebar.js?version=1.8.2"></script><script src="/js/copy.js?version=1.8.2"></script><script src="/js/fireworks.js?version=1.8.2"></script><script src="/js/transition.js?version=1.8.2"></script><script src="/js/scroll.js?version=1.8.2"></script><script src="/js/head.js?version=1.8.2"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css"><script src="/js/katex.js"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>